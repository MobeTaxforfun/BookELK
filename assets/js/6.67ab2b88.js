(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{475:function(t,s,a){t.exports=a.p+"assets/img/LogstashPipelinefolder.c7dd69a0.png"},476:function(t,s,a){t.exports=a.p+"assets/img/pm25test.f402b3ca.png"},477:function(t,s,a){t.exports=a.p+"assets/img/pluginlist.be1114c6.png"},478:function(t,s,a){t.exports=a.p+"assets/img/terminalresult.dec75601.png"},479:function(t,s,a){t.exports=a.p+"assets/img/kibanaresult.8d49c7ae.png"},480:function(t,s,a){t.exports=a.p+"assets/img/importcsvProblem.711c6968.png"},481:function(t,s,a){t.exports=a.p+"assets/img/hellowolrd.aed53ab2.png"},482:function(t,s,a){t.exports=a.p+"assets/img/csvnewrow.82cbdeb0.png"},515:function(t,s,a){"use strict";a.r(s);var n=a(65),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"logstash-åŒ¯å‡º-csv"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#logstash-åŒ¯å‡º-csv"}},[t._v("#")]),t._v(" Logstash åŒ¯å‡º CSV")]),t._v(" "),n("p",[t._v("Logstash æ“…é•·å°‡å„å¼çš„è³‡æ–™å€’å…¥ Elasticsearch ä¸­ï¼Œæ­¤ç¯‡è¨˜éŒ„ä¸€ä¸‹ä½¿ç”¨ Logstash å°‡ CSV ä¸­çš„è³‡æ–™åŒ¯å…¥ elasticsearch ä¸­çš„éç¨‹")]),t._v(" "),n("p",[t._v("ğŸ“˜ Reference")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.elastic.co/guide/en/logstash/current/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜æ–¹æ–‡ä»¶"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.kaggle.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("kaggle æ•¸æ“šå»ºæ¨¡å’Œæ•¸æ“šåˆ†æå¹³å°"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.elastic.co/guide/en/logstash/current/plugins-filters-mutate.html#plugins-filters-mutate-convert",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mutate filter plugin"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.elastic.co/guide/en/logstash/current/plugins-filters-csv.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Csv filter plugin"),n("OutboundLink")],1)])]),t._v(" "),n("h2",{attrs:{id:"äº‹å‰æº–å‚™å·¥ä½œ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#äº‹å‰æº–å‚™å·¥ä½œ"}},[t._v("#")]),t._v(" äº‹å‰æº–å‚™å·¥ä½œ")]),t._v(" "),n("ul",[n("li",[t._v("å…ˆä¸‹è¼‰ Logstash æœ¬æ–‡ä½¿ç”¨ç‰ˆæœ¬ logstash-7.17.1-windows ç‰ˆæœ¬")]),t._v(" "),n("li",[t._v("æ‰¾åˆ°ä¸€ä»½ CSV æ ¼å¼çš„è³‡æ–™ï¼Œä»¥"),n("code",[t._v(",")]),t._v("åˆ†éš”è³‡æ–™ï¼Œä¸¦æœ‰å®Œæ•´æ–·è¡Œ")]),t._v(" "),n("li",[t._v("è§£å£“ç¸®å¾Œå…§å®¹å¦‚ä¸‹:"),n("br"),t._v(" "),n("img",{attrs:{src:a(475),alt:"logstashè³‡æ–™å¤¾"}})]),t._v(" "),n("li",[t._v("åœ¨è³‡æ–™å¤¾åº•ä¸‹æ–°å¢ä¸€å€‹ "),n("code",[t._v("pipeline")]),t._v(" çš„è³‡æ–™å¤¾ä¹‹å¾Œç”¨ä¾†å­˜æ”¾ pipeline è¨­å®šæª”")]),t._v(" "),n("li",[t._v("ä»¥ä¸‹ç‚ºæœ¬æ–‡æ¸¬è©¦è³‡æ–™ä¾†è‡³ Opendata pm2.5 csv è³‡æ–™é›†çµæ§‹å¦‚ä¸‹:"),n("br"),t._v(" "),n("img",{attrs:{src:a(476),alt:"æ¸¬è©¦è³‡æ–™"}})])]),t._v(" "),n("h2",{attrs:{id:"pipeline"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pipeline"}},[t._v("#")]),t._v(" Pipeline")]),t._v(" "),n("p",[t._v("æº–å‚™å¥½ä¹‹å¾Œä¾†ç·¨å¯«ç¬¬ä¸€å€‹ pipeline")]),t._v(" "),n("h3",{attrs:{id:"pm25csv-conf"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pm25csv-conf"}},[t._v("#")]),t._v(" pm25csv.conf")]),t._v(" "),n("p",[t._v("åœ¨ "),n("code",[t._v("pipeline")]),t._v(" é€™å€‹è³‡æ–™å¤¾åº•ä¸‹æ–°å¢ä¸€å€‹ pm25csv.conf æ–‡ä»¶ï¼Œæ–‡ä»¶å…§å®¹å¦‚ä¸‹:")]),t._v(" "),n("div",{staticClass:"language-JSON extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[t._v("input "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    file "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        path => "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"D:/DockerHub/Ref/Data/OpenData/pm25.csv"')]),t._v("\n        start_position => "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"beginning"')]),t._v("\n        sincedb_path=>"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"D:/DockerHub/Ref/Data/OpenData/pm25.log"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    stdin "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nfilter "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    csv "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        skip_header => "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n        separator => "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('","')]),t._v("\n        columns => "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"device"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"town"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"types"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lat"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lon"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"temp"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hum"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pm25"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"time"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\noutput "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    elasticsearch "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n        hosts => "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:9200/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        index => "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pm25-v1"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    stdout "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ul",[n("li",[n("p",[t._v("Logstash Pipline çš„ä¸‰å¤§è¦ç´ åˆ†åˆ¥æ˜¯ input; filter; output")])]),t._v(" "),n("li",[n("p",[n("code",[t._v("Input")]),t._v(" : æˆ‘å€‘æŒ‡å®šå…©å€‹ è³‡æ–™ä¾†æºä¸€å€‹æ˜¯ file ; å¦ä¸€å€‹æ˜¯ stdin")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("input stdin")]),t._v(" ç”¨ä¾†æ¸¬è©¦ç”¨çš„ï¼Œä¸‹é¢æœƒç¤ºç¯„æ€éº¼ç”¨")]),t._v(" "),n("li",[n("code",[t._v("input file path")]),t._v(" è³‡æ–™ä¾†æºè·¯å¾‘")]),t._v(" "),n("li",[n("code",[t._v("input file start_position")]),t._v(" å¾ç”šéº¼ä½ç½®é–‹å§‹è®€å–æ–‡ä»¶ï¼ŒLogstashé è¨­æ˜¯çµæŸä½ç½®ï¼Œå°±æ˜¯æ¯æ¬¡éƒ½æ‹¿æœ€å¾Œä¸€ç­†ï¼Œé€™ç¨®é è¨­çš„æ¨¡å¼é©åˆç”¨åœ¨è®€ log çš„ç’° å¢ƒï¼Œå› ç‚ºè‹¥æ˜¯ log çš„è©±æ¯æ¬¡ä¸€ç­†æ–°çš„æ—¥èªŒç¸½æ˜¯æœƒæ·»åŠ åœ¨æ–‡ä»¶æœ€å¾Œã€‚è€Œé€™é‚Šæˆ‘å€‘å°å…¥çš„æ˜¯æ•´å€‹ csv æ–‡ä»¶æ‰€ä»¥è®“ Logstash å¾é ­é–‹å§‹è®€å–è¨­å®šç‚º "),n("code",[t._v("beginning")]),t._v(" ç•¶è®€å–åˆ°æœ€æœ«æ™‚ï¼ŒLogstash å°‡è‡ªå‹•åˆ‡æ›ç‚ºé è¨­æ¨¡å¼ "),n("code",[t._v("End")]),t._v(" è®€å–æœ€å¾Œä¸€ç­†")]),t._v(" "),n("li",[n("code",[t._v("input file sincedb_path")]),t._v(" æŒ‡å®šä¸€å€‹ logï¼Œé€™å€‹ log æä¾› Logstash "),n("code",[t._v("æ¢é‡")]),t._v(" ç´€éŒ„æœ€å¾Œä¸€ç­†è®€å–è³‡æ–™çš„åç§»é‡ï¼Œè‹¥ä¸æŒ‡å®šæœƒè‡ªå‹•ç”¢ç”Ÿï¼Œè‹¥ä¸æƒ³ç´€éŒ„è«‹è¨­ç‚º "),n("code",[t._v("null")]),t._v("ï¼Œç‚ºäº†æ–¹ä¾¿ç®¡ç†å¤§å¤šæ™‚å€™å»ºè­°é‚„æ˜¯ç´€éŒ„ä¸€ä¸‹")])])]),t._v(" "),n("li",[n("p",[n("code",[t._v("filter")]),t._v(" : é€™é‚Šä½¿ç”¨ "),n("code",[t._v("Csv filter plugin")]),t._v(" ä¾†åšè³‡æ–™è™•ç†ï¼Œæ–‡ä»¶è«‹è¦‹ç½®é ‚ Reference")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("filter csv skip_header")]),t._v(" æŒ‡å®šè·³éæ¨™é ­")]),t._v(" "),n("li",[n("code",[t._v("filter csv separator")]),t._v(" è¨­å®šç‚º "),n("code",[t._v('","')]),t._v(" ä»¥é€—è™Ÿæ¨™ç¤ºè³‡æ–™é–“éš”")]),t._v(" "),n("li",[n("code",[t._v("filter csv columns")]),t._v(" æ¯å€‹æ¬„ä½è³‡æ–™å¦‚ä½•è§£æé€² Elasticsearch")])])]),t._v(" "),n("li",[n("p",[n("code",[t._v("output")]),t._v(" : ä¸»è¦è¼¸å‡ºè³‡æ–™çš„ç›®çš„åœ° Stdout and Elasticsearchï¼Œä½¿ç”¨ "),n("code",[t._v("Elasticsearch output plugin")]),t._v("ï¼Œé‚„æœ‰è¨±å¤šä¸åŒçš„ plugin å¯ä»¥è¼¸å‡ºè³‡æ–™åˆ°å…¶ä»–çš„è¼‰é«”")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("output elasticsearch hosts")]),t._v(" é è¨ˆè¼¸å‡ºç›®æ¨™çš„ elasticsearch hosts")]),t._v(" "),n("li",[n("code",[t._v("output elasticsearch index")]),t._v(" é è¨ˆè¼¸å‡ºåˆ°å“ªå€‹ index ä¸‹")]),t._v(" "),n("li",[n("code",[t._v("output stdout")]),t._v(" ç”¨ä¾†æ¸¬è©¦ç”¨çš„ï¼Œä¸‹é¢æœƒç¤ºç¯„æ€éº¼ç”¨")])])])]),t._v(" "),n("p",[t._v("âš ï¸ é€™è£¡å¾ˆé‡è¦ å¦‚æœåœ¨ windows ç’°å¢ƒä¸‹ "),n("code",[t._v('path => "D:/DockerHub/Ref/Data/OpenData/pm25.csv"')]),t._v(" è·¯å¾‘çš„æ­£åæ–œç·šè«‹æ³¨æ„"),n("br"),t._v("\nâ€ƒâ€ƒâ€ƒ=> é€™æ˜¯ windows è¼¸å‡ºçš„è·¯å¾‘ "),n("code",[t._v("D:\\DockerHub\\Ref\\Data\\OpenData\\pm25.csv")]),t._v(" (é€™æ˜¯éŒ¯çš„)"),n("br"),t._v("\nâ€ƒâ€ƒâ€ƒ=> é€™æ˜¯ logstash ä¸­ç´„å®šçš„è·¯å¾‘ "),n("code",[t._v("D:/DockerHub/Ref/Data/OpenData/pm25.csv")]),t._v(" (é€™æ˜¯å°çš„)"),n("br"),t._v("\nâ€ƒâ€ƒâ€ƒ=> ä¸‹é¢é‚£å€‹æ‰å¯ä»¥æˆåŠŸé‹ä½œ")]),t._v(" "),n("h2",{attrs:{id:"åŒ¯å…¥è³‡æ–™"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŒ¯å…¥è³‡æ–™"}},[t._v("#")]),t._v(" åŒ¯å…¥è³‡æ–™")]),t._v(" "),n("h3",{attrs:{id:"å¯¦ç”¨æŒ‡ä»¤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¯¦ç”¨æŒ‡ä»¤"}},[t._v("#")]),t._v(" å¯¦ç”¨æŒ‡ä»¤")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("ç›¸é—œçš„æŒ‡ä»¤é›†éƒ½åœ¨ "),n("code",[t._v("bin")]),t._v(" è£¡é¢å¯ä»¥ç›´æ¥å‘¼å«ï¼Œæª¢è¦– Logstash ä¸­çš„ plugin")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("."),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("bin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("logstash-plugin list\n")])])]),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("  logstash-codec-avro\n  logstash-codec-cef\n  logstash-codec-collectd\n  logstash-codec-dots\n  logstash-codec-edn\n  logstash-codec-edn_lines\n  logstash-codec-es_bulk\n  logstash-codec-fluent\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".ä¸‹ç•¥\n")])])]),n("p",[n("img",{attrs:{src:a(477),alt:"logstashpluginlist"}})])]),t._v(" "),n("li",[n("p",[t._v("ç¢ºå®šä½¿ç”¨åˆ° plugin éƒ½å·²ç¶“åœ¨åˆ—è¡¨è£¡é¢ï¼Œå¦‚ä¸‹")]),t._v(" "),n("ul",[n("li",[t._v("logstash-input-stdin")]),t._v(" "),n("li",[t._v("logstash-input-file")]),t._v(" "),n("li",[t._v("logstash-filter-csv")]),t._v(" "),n("li",[t._v("logstash-output-elasticsearch")]),t._v(" "),n("li",[t._v("logstash-output-stdout\nå¦‚æœæœ‰ç¼ºï¼Œåˆ°å®˜æ–¹å»ä¸‹è¼‰ç›¸å°æ‡‰ç‰ˆæœ¬çš„ pluginï¼Œä½†åŸºæœ¬ä¸Šæ‡‰è©²éƒ½æœƒæœ‰")])])])]),t._v(" "),n("h3",{attrs:{id:"å•Ÿå‹•-logstash-åŒ¯å…¥è³‡æ–™"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å•Ÿå‹•-logstash-åŒ¯å…¥è³‡æ–™"}},[t._v("#")]),t._v(" å•Ÿå‹• Logstash åŒ¯å…¥è³‡æ–™")]),t._v(" "),n("p",[t._v("ä½¿ç”¨æŒ‡ä»¤å•Ÿå‹• Logstashï¼Œ-f å¾Œé¢æŒ‡å®šç·¨å¯«å¥½çš„ pipeline config (é‚„æœ‰ä¸€å€‹æ–¹æ³•æ˜¯ç”¨ pipeline.yml ä¸­ï¼Œä½¿ç”¨æ–¹æ³•é è¨ˆä¹Ÿæœƒæœ‰ä¸€ç¯‡ç­†è¨˜)")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("  ."),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("bin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("logstash -f ."),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("pipeline"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("pm25csv.conf\n")])])]),n("p",[t._v("è‹¥æ˜¯å•Ÿå‹•æˆåŠŸæ‡‰è©²æœƒçœ‹åˆ°è³‡æ–™ä¸€ç­†ä¸€ç­†çš„é¡¯ç¤ºåœ¨ terminal ä¸Šé¢ï¼Œé‚£æ˜¯å› ç‚º pipeline "),n("code",[t._v("output stdout")]),t._v(" é€™å€‹å°±æ˜¯å°‡è¼¸å‡ºä¸€ä½µé¡¯ç¤ºåœ¨ terminal ä¸Š")]),t._v(" "),n("p",[n("img",{attrs:{src:a(478),alt:"logstashpluginlist"}})]),t._v(" "),n("h3",{attrs:{id:"kibana-æŸ¥çœ‹çµæœ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#kibana-æŸ¥çœ‹çµæœ"}},[t._v("#")]),t._v(" Kibana æŸ¥çœ‹çµæœ")]),t._v(" "),n("p",[t._v("ä½¿ç”¨ GET Index search æŸ¥çœ‹")]),t._v(" "),n("div",{staticClass:"language-JSON extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[t._v(" GET pm25-v1/_search\n")])])]),n("p",[t._v("å¯ä»¥çœ‹åˆ° pm25-v1 é€™å€‹ index ä¸­å·²ç¶“æœ‰ 1338 ç­†è³‡æ–™")]),t._v(" "),n("p",[n("img",{attrs:{src:a(479),alt:"kibanaresult"}})]),t._v(" "),n("h2",{attrs:{id:"mutate-filter-plugin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mutate-filter-plugin"}},[t._v("#")]),t._v(" Mutate filter plugin")]),t._v(" "),n("p",[t._v('é›–ç„¶è³‡æ–™å·²ç¶“åŒ¯å…¥æˆåŠŸäº†ï¼Œä½†ä»”ç´°è§€å¯Ÿçš„è©±æœƒç™¼ç¾æœ‰äº›å•é¡Œï¼Œç”¨ mapping æŒ‡å®šä¾†æŸ¥çœ‹ index mappingï¼Œæœƒç™¼ç¾ "temp","hum","pm25" é€™å¹¾å€‹æ¬„ä½æ˜¯ text ï¼Œåœ¨ä¸€èˆ¬çš„æ‡‰ç”¨æˆ‘å€‘æ›´å¤šæ™‚å€™å¸Œæœ›é€™å¹¾å€‹æ¬„ä½æ˜¯ä»¥æ•¸å€¼æ–¹å¼å»å°æ‡‰ï¼Œæ‰€ä»¥æˆ‘å€‘è¦ä¿®æ”¹ä¸€ä¸‹ pipeline')]),t._v(" "),n("p",[n("img",{attrs:{src:a(480),alt:"kibanaresult"}})]),t._v(" "),n("p",[t._v("å°æ‡‰çš„æ–¹æ³•å…¶å¯¦é‚„æœ‰ä¸€ç¨®æ˜¯ä¸€é–‹å§‹å°±å…ˆè¨­å®šå¥½ index èˆ‡ index mappingï¼Œé€™æ¨£ä½¿ç”¨ Logstash æ™‚åªè¦å°‡è³‡æ–™å°å…¥å³å¯ï¼Œä¸éé€™é‚Šå˜—è©¦ä¸€ä¸‹ä¸ç”¨äº‹å…ˆå»å»ºç«‹ mapping çš„æ–¹æ³•ï¼Œæˆ‘å€‘ä½¿ç”¨ mutate plugin ä¾†è™•ç†ï¼Œè©³ç´°æ–‡ä»¶è¦‹ç½®é ‚( mutate æ“ä½œå½ˆæ€§æ»¿å¤§çš„)")]),t._v(" "),n("p",[t._v("mutate plugin æä¾›äº†å¹¾ç¨®è³‡æ–™å‹æ…‹å°æ‡‰ integer;integer_eu;float;float_eu;string;booleanï¼Œåªè¦åœ¨ "),n("code",[t._v("filter")]),t._v(" ä¸­å¼•å…¥ "),n("code",[t._v("mutate plugin")])]),t._v(" "),n("h3",{attrs:{id:"å¼•å…¥-mutate"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¼•å…¥-mutate"}},[t._v("#")]),t._v(" å¼•å…¥ mutate")]),t._v(" "),n("p",[n("code",[t._v("filter mutate convert")]),t._v(" æ¬„ä½ => æŒ‡å®šå‹åˆ¥ï¼Œå°±å¯ä»¥å°‡æ•¸å€¼è½‰å‹ï¼Œæœ€å¾Œè¨­å®šæª”å¦‚ä¸‹")]),t._v(" "),n("div",{staticClass:"language-JSON extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[t._v("    input "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        file "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            path => "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"D:/DockerHub/Ref/Data/OpenData/pm25.csv"')]),t._v("\n            start_position => "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"beginning"')]),t._v("\n            sincedb_path=>"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"D:/DockerHub/Ref/Data/OpenData/pm25.log"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        stdin "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    filter "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        csv "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            skip_header => "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n            separator => "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('","')]),t._v("\n            columns => "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"device"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"town"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"types"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lat"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lon"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"temp"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hum"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pm25"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"time"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        mutate "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            convert => "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"temp"')]),t._v(" => "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"float"')]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hum"')]),t._v(" => "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"float"')]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pm25"')]),t._v(" => "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"float"')]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    output "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        elasticsearch "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n            hosts => "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:9200/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            index => "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pm25-v1"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        stdout "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"æœ€çµ‚æˆæœ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æœ€çµ‚æˆæœ"}},[t._v("#")]),t._v(" æœ€çµ‚æˆæœ")]),t._v(" "),n("p",[t._v("ä¸€æ¨£æŠŠ mapping æå–å‡ºä¾†æª¢è¦–")]),t._v(" "),n("div",{staticClass:"language-JSON extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[t._v("GET pm25-v1/_mapping/field/hum"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("temp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pm25\n")])])]),n("p",[t._v("å¯ä»¥çœ‹åˆ° hum,temp,pm25 é€™ä¸‰å€‹ field éƒ½å·²ç¶“æ˜¯ "),n("code",[t._v('"type" : "float"')])]),t._v(" "),n("div",{staticClass:"language-JSON extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pm25-v1"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mappings"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hum"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"full_name"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hum"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mapping"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hum"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"float"')]),t._v("\n                  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"temp"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"full_name"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"temp"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mapping"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"temp"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"float"')]),t._v("\n                  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pm25"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"full_name"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pm25"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mapping"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pm25"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"float"')]),t._v("\n                  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"è£œå……"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è£œå……"}},[t._v("#")]),t._v(" è£œå……")]),t._v(" "),n("h3",{attrs:{id:"stdin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#stdin"}},[t._v("#")]),t._v(" Stdin")]),t._v(" "),n("p",[t._v("åŸºæœ¬ä¸Šé€™å€‹ä¹Ÿå¯ä»¥ä¸ç”¨åŠ ï¼Œä¸éåŠ äº†å¯ä»¥ç”¨ä¾†åµéŒ¯ï¼Œé€™å€‹å¯ä»¥è®“ terminal æ¥æ”¶è¼¸å…¥ï¼Œä¾‹å¦‚è¼¸å…¥ Hello worldï¼Œå°±æœƒæ’å…¥ä¸€ç­† Hello world è³‡æ–™åˆ°æŒ‡å®šçš„ index ä¸­\n"),n("img",{attrs:{src:a(481),alt:"kibanaresult"}})]),t._v(" "),n("h3",{attrs:{id:"csv-æ–°è³‡æ–™"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#csv-æ–°è³‡æ–™"}},[t._v("#")]),t._v(" CSV æ–°è³‡æ–™")]),t._v(" "),n("p",[t._v("å¦‚æœå¾€ CSV è£¡é¢æ–°å¢è³‡æ–™çš„è©±ï¼Œæ¢é‡æœƒç¹¼çºŒç§»å‹•ä¸¦å°‡è³‡æ–™è‡ªå‹•æ¨é€åˆ° elasticsearch ä¸­ï¼Œå¢åŠ ä¸€ç­†æ¸¬è©¦\n"),n("img",{attrs:{src:a(482),alt:"kibanaresult"}})]),t._v(" "),n("h3",{attrs:{id:"é‡æ–°è¼‰å…¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é‡æ–°è¼‰å…¥"}},[t._v("#")]),t._v(" é‡æ–°è¼‰å…¥")]),t._v(" "),n("p",[t._v("è‹¥è¦é‡æ–°è¼‰å…¥è¦å°‡æŒ‡é‡æ­¸é›¶ï¼Œæˆ–æ˜¯æŠŠ .log ç›´æ¥åˆªé™¤")])])}),[],!1,null,null,null);s.default=e.exports}}]);