(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{469:function(s,e,a){s.exports=a.p+"assets/img/elastichost.4d6faea4.png"},470:function(s,e,a){s.exports=a.p+"assets/img/kibanahost.e6de3560.png"},471:function(s,e,a){s.exports=a.p+"assets/img/logstashhost.a0a0f4f8.png"},472:function(s,e){s.exports="data:image/png;base64,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"},473:function(s,e,a){s.exports=a.p+"assets/img/NGINXhost.4fc5b206.png"},510:function(s,e,a){"use strict";a.r(e);var t=a(65),r=Object(t.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"elastic-stack-ç’°å¢ƒå»ºç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#elastic-stack-ç’°å¢ƒå»ºç½®"}},[s._v("#")]),s._v(" Elastic stack ç’°å¢ƒå»ºç½®")]),s._v(" "),t("p",[s._v("ç‚ºäº†è¼•é¬†ç©è€ Elastic Stack éœ€è¦å…ˆæº–å‚™ç’°å¢ƒï¼Œä»¥ä¸‹ç´€éŒ„ä¸€ä¸‹è‡ªå·±ç”¨ Docker æ­å»º Elastic Stack å„é …æœå‹™çš„éç¨‹")]),s._v(" "),t("p",[s._v("ğŸŒ ç’°å¢ƒ")]),s._v(" "),t("ul",[t("li",[s._v("OS Windows 10")]),s._v(" "),t("li",[s._v("Docker Desktop 4.9.1")]),s._v(" "),t("li",[s._v("Elastic stack å„é …æœå‹™å·² 7.17.4 ç‚ºä¸»è¦ç‰ˆæœ¬è™Ÿ")]),s._v(" "),t("li",[s._v("Using the WSL 2 backend")])]),s._v(" "),t("p",[s._v("ğŸŒ æƒ³åƒè€ƒæ­¤ç¯‡çš„ä½ é ˆå…·å‚™ Docker èˆ‡ç·¨å¯« Docker Compose çš„ç›¸é—œçŸ¥è­˜ï¼Œæ³¨æ„äº‹é …å¦‚ä¸‹:")]),s._v(" "),t("ul",[t("li",[s._v("ç›´æ¥åœ¨ Windows ç”¨æŒ‡ä»¤å»ºç½®ç’°å¢ƒå¯¦åœ¨å¤ªé™°é–“(Docker bind amount åœ¨ Window ç’°å¢ƒä¸‹æœƒæœ‰äº›è¨±è·¯å¾‘å•é¡Œ)ï¼Œæ‰€ä»¥æœ€å¾Œç”¢å‡ºå°‡æœƒæ˜¯ä½¿ç”¨ Docker Compose ä¾†å•Ÿå‹•ç’°å¢ƒ")]),s._v(" "),t("li",[s._v("è«‹é…ç½®é©åˆçš„è¨˜æ†¶é«”ç©ºé–“çµ¦ Docker Desktopï¼ŒElastic Stack éœ€è¦ä¸€å®šçš„è¨˜æ†¶é«”ç©ºé–“ï¼Œè«‹ä¾æ“šç’°å¢ƒä¸­çš„ Docker é…ç½®æ­¤ç¯‡ä½¿ç”¨WSL2")]),s._v(" "),t("li",[s._v("Docker Commands å‚³é€é–€ "),t("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/docker/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.docker.com/engine/reference/commandline/docker/"),t("OutboundLink")],1)])]),s._v(" "),t("h2",{attrs:{id:"è¡Œå‰æº–å‚™"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è¡Œå‰æº–å‚™"}},[s._v("#")]),s._v(" è¡Œå‰æº–å‚™")]),s._v(" "),t("p",[s._v("å·² WSL2 çš„åŸºæœ¬é…ç½®å¤§æ©Ÿç‡æ˜¯å•Ÿå‹•ä¸äº†æ­¤ç¯‡ Elastic stack çš„å…¨éƒ¨æœå‹™ï¼Œé…ç½®ä¸€ä¸‹ WSL2 çš„ç›¸é—œè¨˜æ†¶é«”è¨­å®šï¼Œåœ¨é€™å€‹è·¯å¾‘ä¸‹é¢æ·»åŠ è¨­å®šæª”(æ ¹æ“šç•¶ä¸‹ Docker ç’°å¢ƒè¨­å®šè¨˜æ†¶é«”)")]),s._v(" "),t("p",[t("code",[s._v("C:\\Users\\{UserName}\\.wslconfig")])]),s._v(" "),t("p",[s._v("è¨­å®šæª”è£¡é¢æ·»åŠ è¨˜æ†¶é«” (memory) çš„è¨­å®š")]),s._v(" "),t("div",{staticClass:"language-EditorConfig extra-class"},[t("pre",{pre:!0,attrs:{class:"language-editorconfig"}},[t("code",[t("span",{pre:!0,attrs:{class:"token section selector"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("wsl2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("memory")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("4GB")]),s._v("\n")])])]),t("p",[s._v("WSL2å¹¾å€‹å¯¦ç”¨æŒ‡å®š:")]),s._v(" "),t("ul",[t("li",[s._v("View the list of distros and their current state : "),t("code",[s._v("wsl -l -v")])]),s._v(" "),t("li",[s._v("Shutdown everything : "),t("code",[s._v("wsl --shutdown")])]),s._v(" "),t("li",[s._v("Boot up the default distro : "),t("code",[s._v("wsl")])]),s._v(" "),t("li",[s._v("Boot up a specific distro : "),t("code",[s._v("wsl -d <DistroName>")])])]),s._v(" "),t("h2",{attrs:{id:"elastic-stack-æœ€åŸºæœ¬æ¶æ§‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#elastic-stack-æœ€åŸºæœ¬æ¶æ§‹"}},[s._v("#")]),s._v(" Elastic stack æœ€åŸºæœ¬æ¶æ§‹")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("Elasticsearch")]),s._v(" "),t("p",[s._v("åšç‚ºæ•´å€‹ Elastic stack æœå‹™çš„æ ¸å¿ƒï¼Œä¸€å€‹ä»¥ Lucene ç‚ºåŸºç¤å¯¦ç¾çš„å…¨æ–‡ç´¢å¼• NoSQL è³‡æ–™åº«ï¼Œæœ€çµ‚æ‰€æœ‰çš„è³‡æ–™èˆ‡æ•¸æ“šå°‡åœ¨æ­¤è™•æŒä¹…åŒ–")])]),s._v(" "),t("li",[t("p",[s._v("Kibana")]),s._v(" "),t("p",[s._v("æ­¤æœå‹™æä¾› UI ä»‹é¢ä¾†æ“ä½œæŒä¹…åŒ–åœ¨ Elasticsearch ä¸­çš„è³‡æ–™ï¼Œä¸¦æä¾›è¦–è¦ºåŒ–å„€è¡¨æ¿ï¼Œå¦å¤–ä¹Ÿå¯ä»¥ä½œç‚ºç®¡ç† Elastic stack ç›¸é—œæœå‹™çš„å¾Œå°")])]),s._v(" "),t("li",[t("p",[s._v("Logstash")]),s._v(" "),t("p",[s._v("é€šå¸¸å‡ºç¾ Elasticsearch ä¹‹å‰ï¼Œç”¨æ–¼æ•¸æ“šå†å€’å…¥ Elasticsearch ä¹‹å‰ï¼Œå°‡è³‡æ–™æ¸…æ´—ä¸¦è¼¸å…¥ï¼Œä¸»è¦ç”±ä¸‰å€‹éƒ¨åˆ†çµ„æˆåˆ†åˆ¥æ˜¯ Input > Filter > Outputï¼Œä¹‹å¾Œæœƒå† Logstash çš„è¨­å®šä¸­çœ‹åˆ°")])]),s._v(" "),t("li",[t("p",[s._v("FileBeat")]),s._v(" "),t("p",[s._v('å…¶åŸå§‹ç¨±å‘¼å…¶å¯¦ç‚º "Beats"ï¼Œç”¨æ–¼å°‡è³‡æ–™å‚³è¼¸è‡³ Elasticsearch æˆ– Logstashï¼Œé€™é‚Šä½¿ç”¨ FileBeatï¼Œ Elastic stack ä¸­ "Beats" çš„ç¸½é¡æœ‰å¾ˆå¤šç¨®å¸¸è¦‹çš„æœ‰ Metricbeatã€Filebeatã€WinLogBeatã€Heartbeat......ç­‰ç­‰ï¼Œå¯ä»¥ä¾éœ€æ±‚ä½¿ç”¨ç›¸æ‡‰çš„ "Beats"')])]),s._v(" "),t("li",[t("p",[s._v("NGINX(éElastic stack)")]),s._v(" "),t("p",[s._v("ä¸€å€‹éåŒæ­¥æ¡†æ¶çš„ç¶²é ä¼ºæœå™¨ï¼Œé Elastic stack åªæ˜¯é€™é‚ŠDemoæ¶æ§‹éœ€è¦ä¸€å€‹è³‡æ–™æä¾›è€…è¼ƒå®¹æ˜“å±•ç¤ºçµæœï¼Œé€™è£¡æœƒå°‡ NGINX ä¸­çš„ Log è—‰ç”± FileBeat å‚³é€è‡³ Logstashï¼Œä¹‹å¾Œå°‡æŒä¹…åŒ–è‡³ Elasticsearch ä¸¦ç”± Kibana ä¾†å±•ç¤ºæ•¸æ“š")])])]),s._v(" "),t("h2",{attrs:{id:"ç”¨-docker-å»ºç½®-elastic-stack"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç”¨-docker-å»ºç½®-elastic-stack"}},[s._v("#")]),s._v(" ç”¨ Docker å»ºç½® Elastic stack")]),s._v(" "),t("p",[s._v("ä»¥ä¸‹ä½¿ç”¨ Docker ä¾†å»ºç½® Elastic stackï¼Œåœ¨æ­å»ºæœå‹™ä¹‹å‰éœ€è¦å…ˆå‰µå»ºä¸€å€‹ docker networkï¼Œä¹‹å¾Œå»ºç½®çš„æœå‹™éƒ½æœƒä½¿ç”¨é€™å€‹ Network ä¾†æºé€š;ä»¥ Birdge æ¨¡å¼å‰µå»ºä¸€å€‹åç‚º elknetwork çš„ Docker network")]),s._v(" "),t("p",[t("code",[s._v("docker network create elknetwork")])]),s._v(" "),t("p",[s._v('æ¥ä¸‹ä¾†æˆ‘å€‘ä¸€æ¬¡æŠŠéœ€è¦çš„ Image éƒ½æ‹‰å–ä¸‹ä¾†ï¼Œä¸€å€‹æ²‰é‡çš„å»ºè­°ï¼Œåœ¨åŒä¸€å€‹æ‡‰ç”¨ä¸‹ï¼Œç‰ˆæœ¬è™Ÿ"ç›¡é‡å…¨éƒ¨çµ±ä¸€"ï¼Œå®˜æ–¹çš„å€‰åº«èµ°é€™é‚Š '),t("a",{attrs:{href:"https://www.docker.elastic.co/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.docker.elastic.co/"),t("OutboundLink")],1),s._v("ï¼Œè¦å¾ Docker hub ä¸Šæ‹‰å–ä¹Ÿæ˜¯å¯ä»¥")]),s._v(" "),t("ul",[t("li",[s._v("Elasticsearch : "),t("code",[s._v("docker pull docker.elastic.co/elasticsearch/elasticsearch:7.17.4")])]),s._v(" "),t("li",[s._v("Kibana : "),t("code",[s._v("docker pull docker.elastic.co/kibana/kibana:7.17.4")])]),s._v(" "),t("li",[s._v("Logstash : "),t("code",[s._v("docker pull docker.elastic.co/logstash/logstash:7.17.4")])]),s._v(" "),t("li",[s._v("Filebeat : "),t("code",[s._v("docker pull docker.elastic.co/beats/filebeat:7.17.4")])]),s._v(" "),t("li",[s._v("NGINX(ç›´æ¥æŠ“æœ€æ–°ç‰ˆæœ¬) : "),t("code",[s._v("docker pull nginx")])])]),s._v(" "),t("p",[s._v("æ‹‰å–æˆåŠŸçš„è©±é•·é€™æ¨£")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("DockerHub"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ELK"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("docker images\nREPOSITORY                                      TAG       IMAGE ID       CREATED       SIZE\nnginx                                           latest    0e901e68141f   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" weeks ago   142MB\ndocker.elastic.co/elasticsearch/elasticsearch   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.17")]),s._v(".4    d64cccab426e   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" weeks ago   630MB\ndocker.elastic.co/beats/filebeat                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.17")]),s._v(".4    7675b1be93e0   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" weeks ago   280MB\ndocker.elastic.co/logstash/logstash             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.17")]),s._v(".4    93aa11296788   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" weeks ago   798MB\ndocker.elastic.co/kibana/kibana                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.17")]),s._v(".4    86967a98433b   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" weeks ago   821MB\n")])])]),t("p",[s._v("æ–¹ä¸ˆç‚ºäººæ¯”è¼ƒå°å¿ƒçœ¼ï¼Œå…ˆå„è‡ªå•Ÿå‹•çœ‹çœ‹æ˜¯ä¸æ˜¯èƒ½æ­£å¸¸é‹ä½œï¼Œå†ä¾†ç·¨å¯« Docker Compose æ–‡ä»¶è™•ç†æŒä¹…åŒ–è·Ÿè¨­å®šï¼Œç›´æ¥ä¸‹ "),t("code",[s._v("docker run")]),s._v(" å•Ÿå‹•çœ‹çœ‹:")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("Elasticsearch :")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("å…ˆä»¥å–®ç¯€é»æ¨¡å¼å•Ÿå‹• Elasticsearch ; docker æŒ‡ä»¤")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d ^\n--name myelasticsearch ^\n--network elknetwork ^\n-p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9200")]),s._v(":9200 ^\n-e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"discovery.type=single-node"')]),s._v(" ^\ndocker.elastic.co/elasticsearch/elasticsearch:7.17.4\n")])])])]),s._v(" "),t("li",[t("p",[s._v("å•Ÿå‹•å¾Œè‡³ "),t("code",[s._v("http://localhost:9200/")]),s._v(' å¯Ÿçœ‹çµæœï¼Œçœ‹åˆ°ä»¥ä¸‹ç•«é¢å°±æ˜¯å•Ÿå‹•æˆåŠŸäº†"You Know, for Search"'),t("br"),s._v(" "),t("img",{attrs:{src:a(469),alt:"elasticsearch_host"}})])])])]),s._v(" "),t("li",[t("p",[s._v("Kibana")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("ä»¥ä¸Šé¢å•Ÿå‹•çš„ Elasticsearch ç‚º Host å•Ÿå‹• Kibana; å…©å€‹è¦é»æ³¨æ„--networkæ˜¯å¦æ©‹æ¥åˆ°åŒä¸€å€‹ç¶²è·¯ä»‹é¢ï¼Œ"),t("code",[s._v("ELASTICSEARCH_HOSTS=http://myelasticsearch:9200")]),s._v(" ä»¥ç•¶ä¸‹çš„å‰µå»ºçš„ elasticsearch æœå‹™ç‚ºæº–")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d ^\n--name mykibana ^\n--network elknetwork ^\n-p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5601")]),s._v(":5601 ^\n-e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ELASTICSEARCH_HOSTS=http://myelasticsearch:9200"')]),s._v(" ^\ndocker.elastic.co/kibana/kibana:7.17.4\n")])])])]),s._v(" "),t("li",[t("p",[s._v("å•Ÿå‹•å¾Œè‡³ "),t("code",[s._v("http://localhost:5601/")]),s._v(" å¯Ÿçœ‹çµæœï¼Œè‹¥å•Ÿå‹•æˆåŠŸæœƒçœ‹åˆ°ä»¥ä¸‹ä»‹é¢"),t("br"),s._v(" "),t("img",{attrs:{src:a(470),alt:"kibana_host"}})])])])]),s._v(" "),t("li",[t("p",[s._v("Logstash")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("å•Ÿå‹• Logstash é€™é‚Šæœƒæ˜ å°„å…©å€‹ port è™Ÿï¼Œ5044 é€™æ˜¯ default beats port; 9600 æ˜¯çµ¦ Web API ä½¿ç”¨çš„")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d ^\n--name mylogstash ^\n--network elknetwork ^\n-p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5044")]),s._v(":5044 ^\n-p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9600")]),s._v(":9600 ^\ndocker.elastic.co/logstash/logstash:7.17.4\n")])])])]),s._v(" "),t("li",[t("p",[s._v("å•Ÿå‹•å¾Œè‡³ "),t("code",[s._v("http://localhost:9600/_node/pipelines?pretty")]),s._v(" æ‡‰è©²æœƒçœ‹åˆ°ä¸€å€‹é è¨­çš„ pipelines"),t("br"),s._v(" "),t("img",{attrs:{src:a(471),alt:"logstash_host"}})])])])]),s._v(" "),t("li",[t("p",[s._v("Filebeat")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("å•Ÿå‹• Filebeat -strict.perms=false ä¸æª¢æŸ¥é…ç½®æ–‡ä»¶ es.yml")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d ^\n--name myfilebeat ^\n--network elknetwork ^\n--user"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root ^\n-e -strict.perms"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("false ^\ndocker.elastic.co/beats/filebeat:7.17.4\n")])])])]),s._v(" "),t("li",[t("p",[s._v("ç”±æ–¼æ²’æœ‰æ˜ å°„ Port åˆ°å®¹å™¨å¤–é¢é€™é‚Šå¯ä»¥ä½¿ç”¨ "),t("code",[s._v("docker logs [Container]")]),s._v(" æŸ¥ä¸€ä¸‹ Log è¼¸å‡º\nå•Ÿå‹•æˆåŠŸæ‡‰è©²æœƒåœ¨ Log ä¸­çœ‹åˆ°ä»¥ä¸‹å­—çœ¼"),t("br"),s._v(" "),t("img",{attrs:{src:a(472),alt:"filebeat_logs"}})])])])]),s._v(" "),t("li",[t("p",[s._v("NGINX")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("æ¯«ç„¡åæ‡‰å°±æ˜¯ä¸€å€‹ NGINX ç›´æ¥ç„¡æƒ…å•Ÿå‹•")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d ^\n--name mynginx ^\n--network elknetwork ^\n-p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7414")]),s._v(":80 ^\nnginx\n")])])])]),s._v(" "),t("li",[t("p",[s._v("è¨ªå• "),t("code",[s._v("http://localhost:7414/")]),s._v(" Welcome to nginx!"),t("br"),s._v(" "),t("img",{attrs:{src:a(473),alt:"NGINX_host"}})])])])]),s._v(" "),t("li",[t("p",[s._v("å°çµ")]),s._v(" "),t("p",[s._v("å…¨éƒ¨å•Ÿå‹•å¾Œæª¢æŸ¥ä¸€ä¸‹çµæœ Docker ä¸­æœƒæœ‰5å€‹å®¹å™¨ï¼Œä»¥ä¸‹çš„éƒ½ç”¨ä¸åˆ°...; æ¥ä¸‹ç·¨å¯« Docker Compose ç”¨æ–¼å•Ÿå‹•ä¸€å€‹ç°¡å–®çš„ Elastic Stack ; æˆ‘å€‘éœ€è¦é¡å¤–è¨­å®šçš„æ±è¥¿ä¸»è¦æœ‰å…©é …:")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mobet"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n CONTAINER ID   IMAGE                                                  COMMAND                  CREATED          STATUS          PORTS                                            NAMES\n 0e09f4cb368c   nginx                                                  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/docker-entrypoint.â€¦"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" minutes ago    Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" minutes    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:7414-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp                             mynginx\n 9f4dfcaa3db0   docker.elastic.co/kibana/kibana:7.17.4                 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/tini -- /usr/lâ€¦"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" minutes ago   Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" minutes   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:5601-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5601")]),s._v("/tcp                           mykibana\n a76d14ccd71d   docker.elastic.co/beats/filebeat:7.17.4                "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/bin/tini -- /uâ€¦"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" minutes ago   Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" minutes                                                    myfilebeat\n 90789d97e6bc   docker.elastic.co/logstash/logstash:7.17.4             "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/bin/dockâ€¦"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" minutes ago   Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" minutes   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:5044-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5044")]),s._v("/tcp, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:9600-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9600")]),s._v("/tcp   mylogstash\n ab772cb2f745   docker.elastic.co/elasticsearch/elasticsearch:7.17.4   "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/tini -- /usr/lâ€¦"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v(" minutes ago   Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v(" minutes   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:9200-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9200")]),s._v("/tcp, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9300")]),s._v("/tcp                 myelasticsearch\n")])])]),t("ul",[t("li",[s._v("å°‡ Elastic Stack ä¸­å¿…è¦çš„è³‡æ–™æŒä¹…åŒ–è‡³ç¡¬ç¢Ÿ(windows ç’°å¢ƒä¸‹ç›´æ¥ç”¨ docker æŒ‡ä»¤åš bind mounts çœŸå¾—å¤ªéé™°é–“...)")]),s._v(" "),t("li",[s._v("å°‡ Elastic Stack éœ€è¦ä½¿ç”¨çš„è¨­å®šæª” Bind åˆ°æŒ‡å®šçš„å¯¦é«”ä½ç½®ï¼Œæ–¹ä¾¿ä¿®æ”¹")]),s._v(" "),t("li",[s._v("æ·»åŠ ä¸€äº›æ›´è©³ç´°çš„è¨­å®š")]),s._v(" "),t("li",[s._v("ä¸‹ç« ç¯€ç”¨ Docker Compose ä¾†å»ºç½®ç’°å¢ƒ")])])])])])}),[],!1,null,null,null);e.default=r.exports}}]);