(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{431:function(t,e,a){t.exports=a.p+"assets/img/RDBMSflow.9f678a67.png"},432:function(t,e,a){t.exports=a.p+"assets/img/ESflow.d4596412.png"},433:function(t,e,a){t.exports=a.p+"assets/img/InvertedIndexExample.f180ffb4.png"},434:function(t,e,a){t.exports=a.p+"assets/img/Invertedindexflow.cd48dd0b.png"},435:function(t,e,a){t.exports=a.p+"assets/img/forwardvsinvertedindex.381b84c7.png"},436:function(t,e,a){t.exports=a.p+"assets/img/IndexandDocument.2f1db41a.png"},437:function(t,e,a){t.exports=a.p+"assets/img/esarchitecture.41996389.png"},438:function(t,e,a){t.exports=a.p+"assets/img/haoya.cb2188f5.jpg"},494:function(t,e,a){"use strict";a.r(e);var s=a(65),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"elasticsearch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch"}},[t._v("#")]),t._v(" ELasticsearch")]),t._v(" "),s("p",[t._v("ğŸ“• "),s("strong",[t._v("Chapter Objectives")])]),t._v(" "),s("ul",[s("li",[t._v("ELasticsearch æ›´å¤šåŸºç¤çŸ¥è­˜")]),t._v(" "),s("li",[t._v("å¦‚åŒé€²è¡Œæ­£è¦çƒè³½å‰è¦å…ˆç†Ÿæ‚‰è¦å‰‡ï¼Œä½¿ç”¨ ELasticsearch å‰åŸºæœ¬ç›¸é—œåè©ä¹Ÿéœ€è¦ç•¥çŸ¥ä¸€äºŒ")]),t._v(" "),s("li",[t._v("ç”±é—œè¯å‹æ•¸æ“šåº«çš„æ¦‚å¿µåˆ‡å…¥ Elasticsearch åŠ é€Ÿç†è§£é€Ÿåº¦")]),t._v(" "),s("li",[t._v("Elasticsearch = ES(ç¸®å¯«)")])]),t._v(" "),s("p",[t._v("ğŸ“˜ "),s("strong",[t._v("Reference")])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.elastic.co/elasticsearch/",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜ç¶²"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.elastic.co/blog/what-is-an-elasticsearch-index",target:"_blank",rel:"noopener noreferrer"}},[t._v("What is an Elasticsearch Index?(2013)"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"more-about-elasticsearch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#more-about-elasticsearch"}},[t._v("#")]),t._v(" More About ELasticsearch")]),t._v(" "),s("p",[t._v("ELasticsearch æœ‰è‘— Scalability(å¯æ“´å±•) èˆ‡ Near real-time search(æ¥è¿‘å³æ™‚æœå°‹) çš„ç‰¹æ€§ï¼Œ"),s("br"),t._v("\nåŒæ™‚ä¹Ÿæä¾›äº†é«˜å¯ç”¨(high availability)çš„é›†ç¾¤æ¶æ§‹ï¼Œ"),s("br"),t._v("\nELasticsearch æƒ³è§£æ±ºçš„æ ¸å¿ƒå•é¡Œå°±æ˜¯åœ¨æ•¸æ“šé‡å¤§çš„ç‹€æ³ä¸‹ä¹Ÿèƒ½ä¿æœ‰æœå°‹é€Ÿåº¦ï¼Œ"),s("br"),t._v("\nç•¶åˆä½œè€… Shay Banon åœ¨è¨­è¨ˆçš„æ™‚å€™ï¼Œä¸€é–‹å§‹å°±æ˜¯æœå‘åˆ†å¸ƒå¼éƒ¨å±¬çš„é¢ç›¸é–‹ç™¼ ELasticsearch"),s("br"),t._v("\nELasticsearch æ ¸å¿ƒè¦ç´ æœ‰ä¸‰å€‹:")]),t._v(" "),s("ul",[s("li",[s("font",{attrs:{color:"#63C5DA",size:"4"}},[s("strong",[t._v("Data in : documents and indices")])])],1),t._v(" "),s("li",[s("font",{attrs:{color:"#63C5DA",size:"4"}},[s("strong",[t._v("Information out : search and analyze")])])],1),t._v(" "),s("li",[s("font",{attrs:{color:"#63C5DA",size:"4"}},[s("strong",[t._v("Scalability and resilience")])])],1)]),t._v(" "),s("p"),t._v(" "),s("ul",[s("li",[s("p",[t._v("ğŸ““ "),s("font",{attrs:{color:"008000"}},[s("strong",[t._v("é—œæ–¼ç³»çµ±è¨­è¨ˆçŸ¥è­˜è£œå……")])])],1),t._v(" "),s("ul",[s("li",[s("p",[t._v("åˆ†æ•£å¼ç³»çµ±è¨­è¨ˆæº–å‰‡ CAP")]),t._v(" "),s("ul",[s("li",[t._v("Consistency (ä¸€è‡´æ€§)")]),t._v(" "),s("li",[t._v("Availability (å¯ç”¨æ€§)")]),t._v(" "),s("li",[t._v("Partition Tolerance (åˆ†å€å®¹å¿æ€§)")])]),t._v(" "),s("p",[t._v("ğŸ“ ä¸€èˆ¬ä¾†èªªä¸€å€‹åˆ†æ•£å¼æ¶æ§‹ä¸‹ï¼Œä¸‰ç¨®ç‰¹æ€§ä¸­åªèƒ½æ»¿è¶³å…©ç¨®ï¼Œ"),s("br"),t._v("\nÂ Â Â Â Â Â æ‹¿CAPç†è«–å°æ¯”è³‡æ–™è™•ç†ä¹Ÿæœƒæœ‰ä»¥ä¸‹ä¸‰ç¨®ç‰¹æ€§:")])]),t._v(" "),s("li",[s("p",[t._v("è³‡æ–™è™•ç†ç³»çµ±è¨­è¨ˆ")]),t._v(" "),s("ul",[s("li",[t._v("æ•¸æ“šé‡é¾å¤§")]),t._v(" "),s("li",[t._v("è¿‘å³æ™‚è™•ç†")]),t._v(" "),s("li",[t._v("è³‡æ–™æº–ç¢ºæ€§")])]),t._v(" "),s("p",[t._v("ğŸ“ åŒç†ï¼Œåœ¨è³‡æ–™è™•ç†ä¸Šå¥½åƒä¹Ÿæœ‰é¡ä¼¼çš„æ¦‚å¿µ(ä¹‹å‰çœ‹åˆ°çš„ï¼Œæ‰¾ä¸åˆ°åŸæ–‡äº†...)ï¼Œ"),s("br"),t._v("\nÂ Â Â Â Â Â è€Œ Elasticsearch ç•¶ç„¶æ˜¯åšäº†æŸäº›å–æ¨ï¼Œä½¿ç”¨ä¸Šè«‹ä¾è‡ªèº«æƒ…æ³æŠŠæ¡")]),t._v(" "),s("ul",[s("li",[t._v("Elasticsearch æ¨æ£„çš„æ˜¯è³‡æ–™æº–ç¢ºæ€§ï¼Œä¸éåœ¨æŸäº›æ•¸æ“šé‡å·¨å¤§çš„æ‡‰ç”¨å ´æ™¯ä¸‹ï¼Œå·²ç¶“ä¸æœƒåœ¨ä¹é‚£ä¸€é»é»è³‡æ–™éŒ¯èª¤äº†")]),t._v(" "),s("li",[t._v("è‹¥è¦æ»¿è¶³æ•¸æ“šé‡å·¨å¤§èˆ‡è³‡æ–™æº–ç¢ºæ€§å…©å€‹å› ç´ ï¼Œå¯ä»¥ä½¿ç”¨ Hadoop æˆ– HBase ...ä¾†è™•ç†ï¼Œä½†å°±ä¸å¯èƒ½ Realtime äº†")]),t._v(" "),s("li",[t._v("è³‡æ–™é‡å°çš„æƒ…æ³ä¸‹ï¼Œä»€éº¼!ä½ èªªè³‡æ–™é‡å°çš„æƒ…æ³ï¼Œé‚£æ²’äº‹äº†")])])])])])]),t._v(" "),s("h2",{attrs:{id:"rdbms-vs-elasticsearch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rdbms-vs-elasticsearch"}},[t._v("#")]),t._v(" RDBMS vs. Elasticsearch")]),t._v(" "),s("p",[t._v("è¦ç­è§£ Elasticsearch å¯ä»¥å…ˆç”¨ RDBMS çš„æ¦‚å¿µä¾†å°æ¯”æœƒæ¯”è¼ƒå¥½ç†è§£ï¼Œä½†å¿…é ˆ"),s("br"),t._v(" "),s("font",{attrs:{color:"#FF0000",size:"4"}},[t._v("æ³¨æ„åªæ˜¯æ‹¿ä½¿ç”¨æ¦‚å¿µä¾†é¡æ¯”ï¼Œä¸¦é Elasticsearch æœ¬èº«è¨­è¨ˆæ˜¯ä¾ RDBMS çš„é‚è¼¯é–‹ç™¼ï¼Œå…©è€…åœ¨æœ¬è³ªä¸Šæ˜¯å¤©å·®åœ°åˆ¥")]),s("br"),t._v("\nä»¥ä¸‹æ˜¯ä»¥ RDBMS çš„æ–¹å¼ç†è§£ Elasticsearch :"),s("br")],1),t._v(" "),s("ul",[s("li",[t._v("ğŸ““ "),s("font",{attrs:{color:"008000"}},[s("strong",[t._v("Typeè£œå……")])])],1)]),t._v(" "),s("p",[t._v("Â Â Â Â Type é€™å€‹æ¦‚å¿µå·²ç¶“åœ¨æ–°ç‰ˆæœ¬ 8.x ä¸­ç§»é™¤ï¼Œ"),s("br"),t._v("\nÂ Â Â Â è€Œåœ¨ 7.x ç‰ˆæœ¬ä¸­ Type å·²ç¶“è¢«å®šç¾©ç‚ºé è¨­çš„ _docï¼Œ"),s("br"),t._v("\nÂ Â Â Â å› ç‚ºåœ¨ Elasticsearch ä¸­ä¸€åˆ‡çš†æ˜¯ç´¢å¼•ï¼Œä¸éœ€è¦å†é¡å¤–åŠƒåˆ†ä¸€å±¤ Type ä¾†åˆ†é¡ï¼Œæ–¼æ˜¯è¢«ç•¶æˆéåº¦è¨­è¨ˆè€Œ"),s("font",{attrs:{color:"#FF0000",size:"4"}},[t._v("æ£„ç”¨")]),s("br")],1),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("RDBMSâ€ƒâ€ƒâ€ƒâ€ƒ")]),t._v(" "),s("th",[t._v("Elasticsearchâ€ƒâ€ƒ")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Database")]),t._v(" "),s("td",[t._v("Index")])]),t._v(" "),s("tr",[s("td",[s("s",[t._v("Table")])]),t._v(" "),s("td",[s("s",[t._v("Type")])])]),t._v(" "),s("tr",[s("td",[t._v("Row")]),t._v(" "),s("td",[t._v("Document")])]),t._v(" "),s("tr",[s("td",[t._v("Column")]),t._v(" "),s("td",[t._v("Fields")])]),t._v(" "),s("tr",[s("td",[t._v("Schema")]),t._v(" "),s("td",[t._v("Mapping")])]),t._v(" "),s("tr",[s("td",[t._v("SQL")]),t._v(" "),s("td",[t._v("Query DSL")])])])]),t._v(" "),s("p"),t._v(" "),s("p",[t._v('ç”¨æœ€ç°¡å–®çš„æ–¹å¼ï¼Œå»ºç«‹"å„²å­˜è³‡æ–™çš„å®¹å™¨"åˆ°"å°‡è³‡æ–™å„²å­˜åˆ°å¯¦é«”ä½ç½®"çš„å¯¦ç”¨è§’åº¦ä¸Šä¾†åˆ‡å…¥ :')]),t._v(" "),s("ul",[s("li",[s("p",[s("font",{attrs:{color:"#63C5DA"}},[s("strong",[t._v("RDBMS")])])],1),t._v(" "),s("ul",[s("li",[t._v("å»ºè³‡æ–™åº«")]),t._v(" "),s("li",[t._v("å»ºè³‡æ–™è¡¨")]),t._v(" "),s("li",[t._v("è¨­è¨ˆæ¬„ä½")]),t._v(" "),s("li",[t._v("æ’å…¥è³‡æ–™")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(431),alt:"RDBMSflow"}})])]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#63C5DA"}},[s("strong",[t._v("Elasticsearch")])])],1),t._v(" "),s("ul",[s("li",[t._v("å»ºç«‹ç´¢å¼• (Index)")]),t._v(" "),s("li",[t._v("è¨­è¨ˆæ˜ å°„ (Mapping)ï¼Œæ­¤æ­¥é©Ÿä¹Ÿä¸ä¸€å®šè¦æœ‰")]),t._v(" "),s("li",[t._v("æ’å…¥æ–‡ä»¶ (Document)")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(432),alt:"ESflow"}})])])]),t._v(" "),s("p",[t._v("æœ€å¾Œä¾†çœ‹ä¸€ä¸‹å®˜æ–¹éƒ¨è½æ ¼ä¸Šé¢çš„è«–è¿°(2013å¹´ï¼Œæ‰€æœ‰é‚„æœ‰Typeçš„æ¦‚å¿µ)")]),t._v(" "),s("blockquote",[s("p",[t._v("The easiest and most familiar layout clones what you would expect from a relational database."),s("br"),t._v("\nYou can (very roughly) think of an index like a database."),s("br"),t._v("\nâ— MySQL => Databases => Tables => Columns/Rows"),s("br"),t._v("\nâ— Elasticsearch => Indices => Types => Documents with Properties")])]),t._v(" "),s("p",[t._v("Elasticsearch ä¸€è©æ‹†é–‹ä¾†çœ‹å°±æ˜¯ Elastic + Searchï¼Œ"),s("br"),t._v("\nElastic æœ‰éˆæ´»çš„æ„æ€ï¼›Search å‰‡æ˜¯æœå°‹ï¼Œ"),s("br"),t._v("\nç‚ºäº†è®“ä½¿ç”¨è€…èƒ½éˆæ´»æœå°‹ï¼ŒElasticsearch åœ¨ä¸€äº›æ ¼å¼å®šç¾©ä¸Šç›¸å°éˆæ´»ï¼Œ"),s("br"),t._v('\nä¸éè¦ç™¾åˆ†ä¹‹ç™¾ç™¼æ® Elasticsearch çš„æœå°‹é€Ÿåº¦é‚„æ˜¯å»ºè­°å°‡ "éœ€æœå°‹çš„æ¬„ä½" çš„å®šç¾©çµ¦ç¢ºå®šä¸‹ä¾†'),s("br"),t._v("\nä¸ç„¶å®˜æ–¹å°±ä¸æœƒæœ‰æ–‡ä»¶æ˜¯å°ˆé–€é—¡è¿° Mapping é€™å€‹éƒ¨ä»½äº†"),s("br"),t._v(" "),s("br"),t._v("\nå¦ä¸€å€‹ Elasticsearch èˆ‡ RDBMS çš„å·¨å¤§å·®ç•°å°±æ˜¯ "),s("font",{attrs:{color:"#FF0000"}},[t._v("Elasticsearch ä¸å…·å‚™ Transaction çš„æ¦‚å¿µ")]),t._v("ï¼Œ"),s("br"),t._v("\nä½†å–®å€‹è«‹æ±‚ä¸‹æ˜¯ä¿æœ‰ ACID ç‰¹æ€§ï¼Œé›–ç„¶è¬›èµ·ä¾†å¥½åƒæœ‰é»çŸ›ç›¾!?"),s("br"),t._v("\nä¸éå¯¦éš›ä½¿ç”¨é Elasticsearch API ä¹‹å¾Œï¼Œå°±æœƒæœ‰æ¯”è¼ƒæ·±åˆ»çš„äº†è§£ (å‰ææ˜¯å¿…é ˆäº†è§£RDBMS ACID And Transaction)"),s("br"),t._v(" "),s("br"),t._v("\næ‰€ä»¥åœ¨çœŸå¯¦çš„æ‡‰ç”¨å ´æ™¯ä¸‹ Elasticsearch ä¸æœƒå–ä»£ RDBMSï¼Œåè€Œæ˜¯å…©è€…ä½µè¡Œç›¸è¼”ç›¸æˆï¼Œ"),s("br"),t._v("\nRDBMS è² è²¬æ’å…¥èˆ‡æ›´æ–°è³‡æ–™ï¼Œå†æŠŠè³‡æ–™åŒæ­¥åˆ° Elasticsearch é€²è¡Œæœç´¢ã€‚")],1),t._v(" "),s("h2",{attrs:{id:"index"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#index"}},[t._v("#")]),t._v(" Index")]),t._v(" "),s("p",[t._v("Index (ç´¢å¼•)ç‚º Elasticsearch çš„æ ¸å¿ƒæ¦‚å¿µä¹‹ä¸€ï¼Œ"),s("br"),t._v("\næ ¸å¿ƒä¸‰è¦ä¹‹ä¸€ä¾¿æ˜¯ "),s("code",[t._v("Data in : documents and indices")]),t._v("ï¼Œ"),s("br"),t._v("\nç•¶è³‡æ–™å¾€ Elasticsearch è¼¸å…¥æ™‚ï¼Œå…©å€‹é—œéµä¾¿æ˜¯ "),s("strong",[t._v("documents")]),t._v(" and "),s("strong",[t._v("indices")]),t._v("ï¼Œ"),s("br"),t._v("\nè‹¥æ˜¯èªª"),s("font",{attrs:{color:"#FF0000"}},[t._v("æœå°‹å¼•æ“ç‚º Elasticsearch çš„æ ¸å¿ƒæ¦‚å¿µï¼ŒIndex å°±æ˜¯æ”¯æ’é€™å€‹æ ¸å¿ƒæ¦‚å¿µçš„åŸºçŸ³")]),t._v("ï¼Œ"),s("br"),t._v("\nè‹¥è¦åœ¨ ELK Stack ç›¸é—œæ‡‰ç”¨ä¸Šæœ‰è‰¯å¥½çš„ä½¿ç”¨é«”é©—ï¼Œå‹™å¿…è¦æŒæ¡ä¸€ä¸‹ Indexï¼Œ"),s("br"),t._v('\nè‡ªèº«çš„å¿ƒå¾—æ˜¯ Elasticsearch Index é€™å€‹æ±è¥¿"æ¥µç«¯ç¥ç§˜"')],1),t._v(" "),s("ul",[s("li",[t._v("ç´¢å¼•ç‚ºæ–‡ä»¶çš„é›†åˆï¼Œç°¡å–®ä¾†èªªå°±æ˜¯æŠŠåŒé¡å‹çš„ documents è—‰ç”± Index é›†åˆå†ä¸€èµ·ï¼Œ"),s("br"),t._v("\nç•¶ç„¶ç´¢å¼•çš„è¨­è¨ˆç‰½æ¶‰åˆ°æ•´é«”æœå°‹çš„é€Ÿåº¦ï¼Œå‡è¨­æŠŠç³»çµ±ä¸­æ‰€æœ‰çš„ documents éƒ½ç”¨ä¸€å€‹ Index å­˜èµ·ä¾†"),s("br"),t._v("\næƒ³ç•¶ç„¶çˆ¾...")]),t._v(" "),s("li",[t._v("è€Œä¸€å€‹ Elasticsearch Index åˆæœƒåˆ†å¸ƒåœ¨ä¸€å€‹æˆ–å¤šå€‹ Shard ä¸­ï¼Œè€Œæ¯ä¸€å€‹ Shard åˆæœƒæœ‰è‡ªèº«çš„ Lucene Index")]),t._v(" "),s("li",[t._v("Inverted Index")])]),t._v(" "),s("p",[s("s",[t._v("é€™å°ç¯€æœ‰é»é›£å¯«.. å…ˆæ“±ç½®ä¸€ä¸‹")])]),t._v(" "),s("h3",{attrs:{id:"inverted-index"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inverted-index"}},[t._v("#")]),t._v(" Inverted Index")]),t._v(" "),s("p",[t._v("ğŸŒ "),s("font",{attrs:{color:"#63C5DA",size:"4"}},[s("strong",[t._v("www.elastic.co")])])],1),t._v(" "),s("blockquote",[s("p",[t._v("Elasticsearch uses a data structure called an inverted index that supports very fast full-text searches.")])]),t._v(" "),s("p",[t._v("ğŸŒ "),s("font",{attrs:{color:"#63C5DA",size:"4"}},[s("strong",[t._v("Wikipedia")])])],1),t._v(" "),s("blockquote",[s("p",[t._v("å€’æ’ç´¢å¼•ï¼ˆè‹±èªï¼šInverted indexï¼‰ï¼Œä¹Ÿå¸¸è¢«ç¨±ç‚ºåå‘ç´¢å¼•ã€ç½®å…¥æª”æ¡ˆæˆ–åå‘æª”æ¡ˆï¼Œ"),s("br"),t._v("\næ˜¯ä¸€ç¨®ç´¢å¼•æ–¹æ³•ï¼Œè¢«ç”¨ä¾†å„²å­˜åœ¨å…¨æ–‡æœå°‹ä¸‹æŸå€‹å–®è©åœ¨ä¸€å€‹æ–‡ä»¶æˆ–è€…ä¸€çµ„æ–‡ä»¶ä¸­çš„å„²å­˜ä½ç½®çš„å°æ˜ ã€‚"),s("br"),t._v("\nå®ƒæ˜¯æ–‡ä»¶æª¢ç´¢ç³»çµ±ä¸­æœ€å¸¸ç”¨çš„è³‡æ–™çµæ§‹ã€‚")])]),t._v(" "),s("p",[s("font",{attrs:{color:"#FF0000"}},[s("strong",[t._v("Elasticsearch ä½¿ç”¨ Inverted Index çš„è³‡æ–™çµæ§‹ä¾†å¯¦ç¾å¿«é€Ÿçš„å…¨æ–‡æœå°‹")])]),t._v("ï¼Œ"),s("br"),t._v("\né—œæ–¼åå‘ç´¢å¼•æˆ–ç¨±å€’æ’ç´¢å¼•å·²ç¶“æ˜¯è€ç”Ÿå¸¸è«‡äº†(Googleä¸€ä¸‹å°±ä¸€å †)ï¼Œ"),s("br"),t._v("\nç°¡å–®çš„è¨˜éŒ„ä¸€ä¸‹")],1),t._v(" "),s("p",[s("img",{attrs:{src:a(433),alt:"invertedindexexample"}})]),t._v(" "),s("ul",[s("li",[s("font",{attrs:{color:"#63C5DA",size:"4"}},[s("strong",[t._v("ç°¡ç•¥çš„è½‰ç½®æµç¨‹")])])],1)]),t._v(" "),s("p",[t._v("è‹¥è¦å»ºç«‹ Inverted Indexï¼Œé¦–å…ˆæ‰€æœ‰çš„ Document æœƒå…ˆç¶“éåˆ†è©ã€åˆ†æã€åœç”¨è©ã€å­—å…ƒè½‰æ›å¾Œï¼Œ"),s("br"),t._v("\nå‰²æˆä¸€å€‹ä¸€å€‹æœ€å°çš„å–®è©ï¼Œå†ç”±é€™äº›å–®è©é›†åˆæˆ Inverted Indexï¼Œ"),s("br"),t._v("\nâ€»æ‰€ä»¥ç•¶æˆ‘å€‘æœå°‹ "),s("code",[t._v("what")]),t._v(" çš„æ™‚å€™ï¼Œæˆ‘å€‘å¯ä»¥çŸ¥é“ "),s("code",[t._v("what")]),t._v(" é€™å€‹é—œéµå­—åœ¨æ–‡ä»¶IDç‚º "),s("code",[t._v("0,1")]),t._v(" é€™å…©å€‹æ–‡ä»¶ä¸­ï¼Œä¾¿ä¸ç”¨åœ¨æ¯å€‹æ–‡ä»¶å°‹è¨ªï¼Œ"),s("br"),t._v("\nä»¥ Wiki çš„ä¸‰å¥æ–‡å­—ç‚ºä¾‹å­ï¼Œæµç¨‹å¦‚ä¸‹åœ–:"),s("br"),t._v(" "),s("br"),t._v(" "),s("img",{attrs:{src:a(434),alt:"invertedindexflow"}}),s("br")]),t._v(" "),s("p",[t._v("è‹¥ä»¥ Forward Index (ç´¢å¼•) vs. Invert Index (åå‘ç´¢å¼•) ä¾†åˆ‡å…¥ï¼Œ"),s("br"),t._v("\nInvert Index è³‡æ–™çµæ§‹æ˜¯å…¸å‹çš„æœå°‹å¼•æ“æª¢ç´¢æ¼”ç®—æ³•é‡è¦çš„éƒ¨åˆ†ï¼Œ"),s("br"),t._v("\näº‹å¯¦ä¸Šæ­£å› ç‚º Invert Index çš„ç‰¹æ€§ï¼ŒInvert Index ä¹Ÿæ˜¯æ–‡ä»¶æª¢ç´¢ç³»çµ±ä¸­æœ€å¸¸ç”¨çš„è³‡æ–™çµæ§‹ï¼Œ"),s("br"),t._v("\nForward Index vs. Invert Index å…©è€…æ¯”è¼ƒå¦‚ä¸‹åœ–:"),s("br"),t._v(" "),s("br"),t._v(" "),s("img",{attrs:{src:a(435),alt:"forwardvsinvertedindex"}}),s("br")]),t._v(" "),s("h3",{attrs:{id:"inverted-index-for-elasticsearch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inverted-index-for-elasticsearch"}},[t._v("#")]),t._v(" Inverted Index For Elasticsearch")]),t._v(" "),s("p",[t._v("æ›´æ·±å…¥çš„ä¾†æ¢è¨ Elasticsearch å°æ–¼ Inverted Index çš„å¯¦ç¾"),s("br"),t._v(" "),s("s",[t._v("é€™å€‹è¦æ•´ç†å¾ˆä¹…ï¼Œå…ˆæŠŠå¤§ç¶±æ‰“å¥½")]),t._v("(æœªå®Œå¾…çºŒ)")]),t._v(" "),s("h2",{attrs:{id:"document"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#document"}},[t._v("#")]),t._v(" Document")]),t._v(" "),s("blockquote",[s("p",[t._v("Elasticsearch is a distributed document store."),s("br"),t._v("\nInstead of storing information as rows of columnar data,"),s("br"),t._v("\nElasticsearch stores complex data structures that have been serialized as JSON documents.")])]),t._v(" "),s("ul",[s("li",[s("p",[s("font",{attrs:{color:"#63C5DA",size:"4"}},[s("strong",[t._v("é‡é» =>")])]),t._v(" "),s("code",[t._v("Elasticsearch is a distributed document store")]),s("br"),t._v(" "),s("strong",[t._v("Elasticsearch æ˜¯ä¸€å€‹"),s("font",{attrs:{color:"#FF0000"}},[t._v("åˆ†å¸ƒå¼")]),t._v("çš„"),s("font",{attrs:{color:"#FF0000"}},[t._v("æ–‡ä»¶è³‡æ–™åº«")])],1),s("br"),t._v(" "),s("strong",[t._v("Elasticsearch æ˜¯ä¸€å€‹"),s("font",{attrs:{color:"#FF0000"}},[t._v("åˆ†å¸ƒå¼")]),t._v("çš„"),s("font",{attrs:{color:"#FF0000"}},[t._v("æ–‡ä»¶è³‡æ–™åº«")])],1),s("br"),t._v(" "),s("strong",[t._v("Elasticsearch æ˜¯ä¸€å€‹"),s("font",{attrs:{color:"#FF0000"}},[t._v("åˆ†å¸ƒå¼")]),t._v("çš„"),s("font",{attrs:{color:"#FF0000"}},[t._v("æ–‡ä»¶è³‡æ–™åº«")])],1)],1)]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#63C5DA",size:"4"}},[s("strong",[t._v("Index èˆ‡ Documents çš„é—œä¿‚")])]),s("br"),t._v("\næœ€ "),s("font",{attrs:{color:"FF4500"}},[s("strong",[t._v("ç°¡å–®")])]),t._v(" ä¾†èªªå°±æ˜¯ä¸€å€‹ Index è£¡é¢ï¼Œæœƒæœ‰å¾ˆå¤šåŒå±¬æ€§çš„ Documents"),s("br"),t._v("\n(ç•¶ç„¶å¯¦éš›å ´æ™¯ä¸‹é æ¯”é€™å€‹è¤‡é›œå¾—å¤šï¼Œé‚„æœ‰ Node; Shard; é‚£äº›æœ‰çš„æ²’çš„)"),s("br"),t._v(" "),s("br"),t._v(" "),s("img",{attrs:{src:a(436),alt:"IndexandDocument"}})],1)]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#63C5DA",size:"4"}},[s("strong",[t._v("æ•¸æ“šæœ€å°å–®ä½")])])],1),t._v(" "),s("p",[t._v("Document å·²ç¶“æ˜¯ Elasticsearch å„²å­˜è³‡æ–™å–®å…ƒä¸­æœ€å°çš„å–®ä½äº†")])]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#63C5DA",size:"4"}},[s("strong",[t._v("JSON Documents")])])],1),t._v(" "),s("blockquote",[s("p",[t._v("Elasticsearch stores complex data structures that have been serialized as JSON documents")])]),t._v(" "),s("p",[t._v("å„²å­˜é€² Elasticsearch çš„è³‡æ–™éƒ½å°‡è¢«åºåˆ—åŒ–ç‚º JSON documentsï¼Œ"),s("br"),t._v("\næ‰€ä»¥ documents é€šå¸¸ä»¥ JSON ä¾†è¡¨ç¤ºï¼Œ"),s("br"),t._v("\näº‹å¯¦ä¸Šï¼Œå†ä½¿ç”¨ Elasticsearch æ™‚ä¹Ÿéƒ½é€é HTTP èˆ‡ JSON ä¾†èˆ‡ Elasticsearch æºé€šå±…å¤š")])]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#63C5DA",size:"4"}},[s("strong",[t._v("Unique Id")])])],1),t._v(" "),s("p",[t._v("æ¯å€‹ Document æ¥æœ‰è‡ªå·±çš„å”¯ä¸€ IDï¼Œ"),s("br"),t._v("\nä¸ç®¡æ˜¯åœ¨å»ºç«‹çš„æ™‚å€™ä½¿ç”¨è€…è³¦äºˆï¼Œæˆ–æ˜¯ç”±ç³»çµ±è‡ªèº«é…çµ¦ï¼Œ"),s("br"),t._v("\né€šå¸¸è®“ç³»çµ±æœ¬èº«ç®¡ç†æœƒæ˜¯æ¯”è¼ƒæ˜æ™ºçš„é¸æ“‡")])]),t._v(" "),s("li",[s("p",[s("font",{attrs:{color:"#63C5DA",size:"4"}},[s("strong",[t._v("Schema-less")])])],1),t._v(" "),s("blockquote",[s("p",[t._v("Elasticsearch also has the ability to be schema-less")])]),t._v(" "),s("p",[t._v("Schema-less ç‚ºä¸€ç¨®å½ˆæ€§çš„å„²å­˜çµæ§‹ï¼Œä¸¦ä¸åƒ…é™å­˜åœ¨æ–¼ Elasticsearch ä¸­ï¼Œ"),s("br"),t._v("\nMongoDB ...ç­‰ç­‰çš„è³‡æ–™åº«ï¼Œä¹Ÿæ˜¯å…·å‚™ Schema-less å±¬æ€§ï¼Œ"),s("br"),t._v("\nSchema-less æä¾›äº†ä»€éº¼ç‰¹æ€§?")]),t._v(" "),s("blockquote",[s("p",[t._v("which means that documents can be indexed without explicitly specifying how to handle each of the different fields that might occur in a document.")])]),t._v(" "),s("p",[t._v("åœ¨å­˜å„²è³‡æ–™æ™‚ä¸éœ€è¦äº‹å…ˆå®šç¾©ç¾å€‹æ–‡ä»¶ä¸­çš„æ ¼å¼(fields)ä¾¿å¯å°‡æ–‡ä»¶å„²å­˜ï¼Œ"),s("br"),t._v("\nElasticsearch ä¸­æä¾› "),s("font",{attrs:{color:"FF4500"}},[t._v("Dynamic mapping")]),t._v(" çš„æ©Ÿåˆ¶ï¼Œ"),s("br"),t._v("\nåœ¨æ–‡ä»¶é€²åˆ° Elasticsearch Index æ™‚æœƒè‡ªå‹•çš„åˆ¤åˆ¥ fields ä¸¦æŠŠ fields æ·»åŠ é€² Index ä¸­ï¼Œ")],1),t._v(" "),s("blockquote",[s("p",[t._v("â€‹just start indexing documents and Elasticsearch will detect and map booleans,"),s("br"),t._v("\nfloating point and integer values, dates, and strings to the appropriate Elasticsearch data types.")])]),t._v(" "),s("p",[t._v("ä½¿ç”¨è€…åƒ…éœ€è¦å¾€ç´¢å¼•ä¸­é–“æ·»åŠ æ–‡ä»¶ï¼ŒElasticsearch æœƒè‡ªå‹•å¹«ä½ åˆ¤åˆ¥å‹æ…‹ï¼Œ"),s("br"),t._v("\néœ€è¦æ³¨æ„çš„æ˜¯ Dynamic mapping ä¹Ÿä¸æ˜¯å¦‚æ­¤çš„å®Œç¾ï¼Œ"),s("br"),t._v("\næ‰€ä»¥æœ‰æ™‚å€™é‚„æ˜¯éœ€è¦ä½¿ç”¨è€…è‡ªå·±å®šç¾©")])]),t._v(" "),s("li",[s("p",[t._v("ğŸ““ "),s("font",{attrs:{color:"008000"}},[s("strong",[t._v("Schema-less çŸ¥è­˜è£œå……")])])],1),t._v(" "),s("p",[t._v("Schema-less é›–ç„¶çœ‹ä¼¼æ–¹ä¾¿å…¶å¯¦é‚„æ˜¯æœ‰äº›å•é¡Œå­˜åœ¨ 1. éœ€è¦å¤§é‡ Index ; 2.å¼±è³‡æ–™æ­£ç¢ºæ€§"),s("br"),t._v("\næ‰€ä»¥ MongoDB è®Šæˆæœ‰é»é¡ä¼¼ Dynamic schemaï¼Œ"),s("br"),t._v("\nElasticsearch å‰‡æ˜¯æœ‰ Dynamic mappingï¼Œ"),s("br"),t._v("\nåˆ°è‹¥è¦åœ¨æœ¬è³ªä¸Šæ”»å…‹ Schema-less æœ‰å¦ä¸€å€‹æ±è¥¿ï¼ŒWide Column Stores - "),s("code",[t._v("Cassandra")])])]),t._v(" "),s("li",[s("p",[t._v("ğŸ““ "),s("font",{attrs:{color:"008000"}},[s("strong",[t._v("é—œæ–¼ NoSQL çŸ¥è­˜è£œå……")])])],1),t._v(" "),s("p",[t._v("Elasticsearch å±¬æ–¼æ–‡ä»¶å‹è³‡æ–™åº«ï¼Œ"),s("br"),t._v("\nGoogle "),s("code",[t._v("NoSQL")]),t._v(" æ‹‰åˆ°æ–‡ä»¶å„²å­˜åˆ—è¡¨å°±æœƒçœ‹åˆ°äº†ï¼Œ"),s("br"),t._v("\nç›®å‰å°æ–¼ NoSQL åˆ†é¡çš„ä¸»æµèªªæ³•ï¼Œå¤§é«”åˆ†æˆå››å€‹:")]),t._v(" "),s("ul",[s("li",[t._v("æ–‡ä»¶å‹è³‡æ–™åº«")]),t._v(" "),s("li",[t._v("Key-value éµå€¼å°è³‡æ–™åº«")]),t._v(" "),s("li",[t._v("åœ–è³‡æ–™åº«")]),t._v(" "),s("li",[t._v("åˆ—è³‡æ–™åº«")])])])]),t._v(" "),s("h3",{attrs:{id:"mapping"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mapping"}},[t._v("#")]),t._v(" Mapping")]),t._v(" "),s("blockquote",[s("p",[t._v("Mapping is the process of defining how a document, and the fields it contains, are stored and indexed.")])]),t._v(" "),s("p",[t._v("åœ¨ Elasticsearch ä¸­æ¯å€‹ Document å…§åŒ…å«å¤šå€‹ fieldsï¼Œè€Œä¸”é€™äº› fields æœƒæœ‰å±¬æ–¼è‡ªå·±çš„ data typeï¼Œ"),s("br"),t._v("\nç•¶è³‡æ–™ä»¥ Document é€²å…¥ Elasticsearch ä¸­æ™‚ï¼Œæœƒè‡ªå‹•çš„ Mapping æ¯å€‹ fields çš„ data typeï¼Œ"),s("br"),t._v("\næ­¤æ™‚æœ‰å…©ç¨®æƒ…æ³ï¼Œ"),s("br"),t._v("\nç•¶é€™å€‹æ¬„ä½æœ‰äº‹å…ˆè¢«å®šç¾©æ™‚ï¼Œæœƒæ ¹æ“šå·²å®šç¾©çš„è¦å‰‡ Mappingï¼Œ"),s("br"),t._v("\nè€Œæ²’æœ‰å®šç¾©çš„æ¬„ä½å‰‡æœƒç”± Dynamic Mapping åˆ¤æ–·æ­¤æ¬„ä½çš„è³‡æ–™å‹æ…‹"),s("br"),t._v(" "),s("br"),t._v("\nåœ¨å¯¦å‹™ä½¿ç”¨ä¸Šæœ€å¥½äº‹å…ˆå®šç¾©å¥½ Mappingï¼Œ"),s("br"),t._v("\nå› ç‚º"),s("font",{attrs:{color:"#FF0000",size:"4"}},[t._v("ä¸€å€‹ Index çš„ Mapping ä¸€æ—¦å»ºç«‹ä¾¿ä¸èƒ½ä¿®æ”¹")]),t._v("ï¼Œ"),s("br"),t._v("\nElasticsearch ä¸­å­˜åœ¨ä¸€ç¨® Aliases çš„æ©Ÿåˆ¶ï¼Œå¯è®“ä½¿ç”¨è€…è¼ƒç‚ºæ–¹ä¾¿ç¶­è­· Index ä¹‹æ›´è¿­ï¼Œ"),s("br"),t._v("\nä½†é‚„æ˜¯è¦ç¶“é Reindex çš„å‹•ä½œæ‰èƒ½å®Œæˆæ›´æ–°ï¼Œ"),s("br"),t._v("\nä»¥ä¸‹ç²—ç•¥ä»‹ç´¹ä¸€ä¸‹å…©ç¨® Mapping")],1),t._v(" "),s("ul",[s("li",[t._v("ğŸ““ "),s("font",{attrs:{color:"008000"}},[s("strong",[t._v("Mapping Types çŸ¥è­˜è£œå……")])])],1)]),t._v(" "),s("blockquote",[s("p",[t._v("Elasticsearch 8.0.0 no longer supports mapping types."),s("br"),t._v("\nFor details on how to migrate your clusters away from mapping types,"),s("br"),t._v("\nsee the removal of types documentation for the 7.x release.")])]),t._v(" "),s("p",[t._v("éš¨è‘— types çš„æ£„ç”¨ï¼ŒElasticsearch 8.0.0 å·²ç¶“ä¸æä¾› Mapping Types æ©Ÿåˆ¶ï¼Œ\nç¨å¾®æ³¨æ„ä¸€ä¸‹å°±å¥½")]),t._v(" "),s("h3",{attrs:{id:"dynamic-mapping"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dynamic-mapping"}},[t._v("#")]),t._v(" Dynamic mapping")]),t._v(" "),s("blockquote",[s("p",[t._v("When Elasticsearch detects a new field in a document,"),s("br"),t._v("\nit dynamically adds the field to the type mapping by default.")])]),t._v(" "),s("p",[t._v("å®˜æ–¹æ–‡ä»¶æŒ‡åç•¶æœ‰ä¸€å€‹æ–°å¾— field åœ¨æ–‡ä»¶ä¸­æ™‚ï¼ŒElasticsearch å°‡æœƒè‡ªå‹•å¾—é€²è¡Œ type mappingï¼Œ\næ„å³ Elasticsearch å¹«æˆ‘å€‘åˆ¤æ–· JSON ä¸­æ¬„ä½çš„è³‡æ–™å‹æ…‹ï¼Œé€™å€‹æ©Ÿåˆ¶ç¨±ç‚º "),s("code",[t._v("Dynamic field mapping")])]),t._v(" "),s("blockquote",[s("p",[t._v("Dynamic templates allow you greater control of how Elasticsearch maps your data beyond the default dynamic field mapping rules.")])]),t._v(" "),s("p",[t._v("æ­¤å¤– Elasticsearch ä¹Ÿæä¾› "),s("code",[t._v("Dynamic templates")]),t._v(" å¯ä»¥è®“ä½¿ç”¨è€…è©³ç´°è‡ªè¨‚è‡ªå·±éœ€è¦çš„æ˜ å°„è¦å‰‡ "),s("code",[t._v("dynamic field mapping rules")]),t._v(" (ä¸­æ–‡å¯¦åœ¨ä¸å¥½è¬›)")]),t._v(" "),s("h3",{attrs:{id:"explicit-mapping"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#explicit-mapping"}},[t._v("#")]),t._v(" Explicit mapping")]),t._v(" "),s("p",[t._v("Explicit mapping å¯æº–ç¢ºå®šç¾©æ¬„ä½å‹æ…‹ï¼Œç•¶æˆ‘å€‘å·²ç¶“çŸ¥é“ Document æ•¸æ“šæ˜¯ä»€éº¼ï¼Œ"),s("br"),t._v("\nå¯ä»¥å¦‚åŒå®šç¾©è³‡æ–™è¡¨å‹æ…‹ä¸€æ¨£ï¼Œ"),s("br"),t._v("\nä¾†å®šç¾©æ–‡ä»¶ä¸­çš„æ¬„ä½å‹æ…‹å…¶ä¸­åŒ…æ‹¬(åŸæ–‡æ¯”è¼ƒè²¼åˆ‡...):")]),t._v(" "),s("ul",[s("li",[s("font",{attrs:{color:"#63C5DA"}},[t._v("Which string fields should be treated as full text fields.")]),s("br"),t._v("\né‚£äº› string fields è¦ä½¿ç”¨ full text fields")],1),t._v(" "),s("li",[s("font",{attrs:{color:"#63C5DA"}},[t._v("Which fields contain numbers, dates, or geolocations.")]),s("br"),t._v("\né‚£äº› fields æ˜¯æ•¸å­—ã€æ—¥æœŸã€åœ°ç†è³‡è¨Š")],1),t._v(" "),s("li",[s("font",{attrs:{color:"#63C5DA"}},[t._v("The format of date values.")]),s("br"),t._v("\næ—¥æœŸæ ¼å¼")],1),t._v(" "),s("li",[s("font",{attrs:{color:"#63C5DA"}},[t._v("Custom rules to control the mapping for dynamically added fields.")]),s("br"),t._v("\né€™å€‹ fields å¯ä»¥ä½¿ç”¨çš„ Dynamic field mapping æ–¹å¼")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("Use runtime fields to make schema changes without reindexing.")])]),t._v(" "),s("p",[t._v("å¦å¤–ä½¿ç”¨ "),s("code",[t._v("runtime fields")]),t._v(" å¯ä»¥åœ¨ä¸ç”¨ reindexing çš„æƒ…æ³ä¸‹é€²è¡Œå‹æ…‹çš„æ›´æ–°ï¼Œ"),s("br"),t._v("\nä½†å…¶å‰¯ä½œç”¨å°±æ˜¯æœç´¢æ•ˆç‡çš„é™ä½ï¼Œè«‹è‡ªå·±è¡¡é‡å†ä¸‰")]),t._v(" "),s("h3",{attrs:{id:"field"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#field"}},[t._v("#")]),t._v(" Field")]),t._v(" "),s("p",[t._v("æ²’ç”šéº¼ç‰¹åˆ¥çš„å°±æ˜¯ä¸€å€‹ Fieldï¼Œæ³¨æ„ä¸€ä¸‹é€™å€‹ Field æ˜¯ä¸æ˜¯è¦è·‘å…¨æ–‡ç´¢å¼•å³å¯ï¼Œä¾‹å¦‚:"),s("br"),t._v("\nè¢«è¨­å®šæˆ "),s("code",[t._v("text")]),t._v(" é¡å‹çš„ Field æœƒé€²è¡Œå…¨æ–‡æª¢ç´¢åˆ†æï¼Œ"),s("br"),t._v("\nè¢«è¨­å®šæˆ "),s("code",[t._v("keyword")]),t._v(" é¡å‹çš„åƒ…æä¾›æŸ¥è©¢ç¯©é¸æˆ–å…¶ä»–èšåˆæ“ä½œ......ç­‰ç­‰")]),t._v(" "),s("p",[t._v("å¦å¤–éœ€è¦çŸ¥é“ä¸€å€‹ "),s("code",[t._v("Multi-fields")]),t._v(" æ©Ÿåˆ¶ï¼Œ\nç”¨ä¾†å°åŒä¸€å€‹ field è³¦äºˆä¸åŒçš„å±¬æ€§")]),t._v(" "),s("blockquote",[s("p",[t._v("Multi-fields,It is often useful to index the same field in different ways for different purposes.")])]),t._v(" "),s("h3",{attrs:{id:"metadata-fields"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#metadata-fields"}},[t._v("#")]),t._v(" Metadata fields")]),t._v(" "),s("blockquote",[s("p",[t._v("Each document has metadata associated with it, such as the _index and _id metadata fields.")])]),t._v(" "),s("p",[t._v("æ¯å€‹ document é€šå¸¸æœ‰è‘—è‡ªå·±çš„ Metadataï¼Œå¸¸è¦‹çš„æœ‰ "),s("code",[t._v("_index")]),t._v(" æ–‡ä»¶æ‰€åœ¨ç´¢å¼•; "),s("code",[t._v("_id")]),t._v(" æ–‡ä»¶å”¯ä¸€Id")]),t._v(" "),s("h3",{attrs:{id:"field-data-types"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#field-data-types"}},[t._v("#")]),t._v(" Field data types")]),t._v(" "),s("blockquote",[s("p",[t._v("Each field has a field data type, or field type.")])]),t._v(" "),s("p",[t._v("æ¯å€‹ Field éƒ½æœ‰è‡ªå·±çš„ Field data types "),s("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-types.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("è©³è¦‹"),s("OutboundLink")],1),s("br"),t._v("\n(é è¨ˆæœƒå¯«åœ¨ Mapping é‚£å€‹ç« ç¯€)")]),t._v(" "),s("h2",{attrs:{id:"search"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#search"}},[t._v("#")]),t._v(" Search")]),t._v(" "),s("blockquote",[s("p",[t._v("The Elasticsearch REST APIs support structured queries, full text queries, and complex queries that combine the two."),s("br"),t._v("\né‹ç”¨ Elasticsearch ä¾†é€²è¡Œæœå°‹åªæœ‰å¹¾å€‹é‡é»:")])]),t._v(" "),s("ul",[s("li",[s("font",{attrs:{color:"#63C5DA"}},[s("strong",[t._v("çµæ§‹åŒ–æŸ¥è©¢ + å…¨æ–‡æª¢ç´¢æŸ¥è©¢")])])],1),t._v(" "),s("li",[s("font",{attrs:{color:"#63C5DA"}},[s("strong",[t._v("REST APIs")])])],1),t._v(" "),s("li",[s("font",{attrs:{color:"#63C5DA"}},[s("strong",[t._v("Query DSL (Domain Specific Language)")])])],1),t._v(" "),s("li",[s("font",{attrs:{color:"#63C5DA"}},[s("strong",[s("s",[t._v("å…¶å¯¦é‚„æœ‰ SQL-style queries")])])])],1)]),t._v(" "),s("p",[t._v("å…¶ä»–è«‹è¦‹æœå°‹é¡çš„ç­†è¨˜...")]),t._v(" "),s("h2",{attrs:{id:"analyzer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#analyzer"}},[t._v("#")]),t._v(" Analyzer")]),t._v(" "),s("blockquote",[s("p",[t._v("Elasticsearch aggregations enable you to build complex summaries of your data and gain insight into key metrics, patterns, and trends.")])]),t._v(" "),s("p",[t._v("æ©... å°±æ˜¯ Elasticsearch ä¹Ÿæœ‰æä¾›"),s("code",[t._v("èšåˆæŸ¥è©¢")]),t._v("..OKå§.. (Â´ï¼Ï‰ï¼`)")]),t._v(" "),s("p",[t._v("å–”... é‚„æœ‰"),s("code",[t._v("machine learning")]),t._v("ï¼Œå“ªæ¬¡ä¸ machine learning å°å§ (Â´-Ï‰-ï½€)")]),t._v(" "),s("h2",{attrs:{id:"distributed-document-store"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#distributed-document-store"}},[t._v("#")]),t._v(" Distributed Document Store")]),t._v(" "),s("p",[s("strong",[t._v("Elasticsearch æ˜¯ä¸€å€‹"),s("font",{attrs:{color:"#FF0000"}},[t._v("åˆ†å¸ƒå¼")]),t._v("çš„"),s("font",{attrs:{color:"#FF0000"}},[t._v("æ–‡ä»¶è³‡æ–™åº«")])],1),s("br"),t._v("\nElasticsearch æ˜¯ä¸€å€‹å…·æœ‰åˆ†å¸ƒå¼æ¶æ§‹ç‰¹å¾µçš„æ‡‰ç”¨ï¼Œæ‰€ä»¥æœƒæœ‰é›†ç¾¤é€™å€‹æ¦‚å¿µï¼Œ"),s("br"),t._v("\næ•´å€‹ Elasticsearch çš„çœŸé¢ç›®å…¶å¯¦æ¯”è¼ƒåƒé€™å€‹æ¨£å­ï¼Œå¦‚ä¸‹åœ–:")]),t._v(" "),s("p",[s("img",{attrs:{src:a(437),alt:"EsCluster"}})]),t._v(" "),s("h3",{attrs:{id:"cluster"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cluster"}},[t._v("#")]),t._v(" Cluster")]),t._v(" "),s("p",[t._v("Elasticsearch Cluster ä¸€å€‹Elasticsearchçš„é›†ç¾¤ä¸­å¯ä»¥åŒ…å«ä¸€å€‹æˆ–å¤šå€‹ Nodeï¼Œ"),s("br"),t._v("\né€šå¸¸ä½¿ç”¨ä¸Šæˆ‘å€‘å¯ä»¥æ ¹æ“šéœ€æ±‚å°é›†ç¾¤ä¸­çš„ç¯€é»é€²è¡Œç·¨æ’ï¼Œ"),s("br"),t._v("\nè—‰ç”±é›†ç¾¤çš„ç‰¹æ€§å¯¦ç¾"),s("font",{attrs:{color:"#FF0000",size:"4"}},[s("strong",[t._v("æ°´å¹³æ“´å……")])]),t._v("ï¼Œ"),s("br"),t._v("\nåŒæ™‚å¯ä»¥è—‰ç”±é›†ç¾¤ä¾†æä¾›"),s("font",{attrs:{color:"#FF0000",size:"4"}},[s("strong",[t._v("é«˜å¯ç”¨")])]),t._v("çš„æœå‹™ç’°å¢ƒ ( High availability services )ï¼Œ")],1),t._v(" "),s("ul",[s("li",[s("p",[t._v("ğŸ““ "),s("font",{attrs:{color:"008000"}},[s("strong",[t._v("High availability çŸ¥è­˜è£œå……")])])],1),t._v(" "),s("p",[t._v('åœ¨åˆ†å¸ƒå¼ç³»çµ±è¨­è¨ˆä¸­"é«˜å¯ç”¨"æ˜¯ä¸€å®šæœƒè¢«è¨è«–åˆ°çš„å•é¡Œï¼Œ'),s("br"),t._v("\nå¸¸è¦‹çš„è§£æ±ºæ–¹æ¡ˆéƒ½æœ‰é‡å°é«˜å¯ç”¨çš„æè¿° Ex: Redis,Kafkaï¼Œ"),s("br"),t._v("\nå¯ä»¥åƒè€ƒæ¯”è¼ƒå…¶ä¸­çš„ä½œæ³•ï¼Œä¸¦æ‡‰ç”¨åœ¨ç³»çµ±è¨­è¨ˆä¸Š")])])]),t._v(" "),s("h3",{attrs:{id:"node"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#node"}},[t._v("#")]),t._v(" Node")]),t._v(" "),s("p",[t._v("ç”±æ¶æ§‹åœ–å¯ä»¥è¦‹å¾—ï¼Œä¸€å€‹ Elasticsearch Cluster ä¸­æœƒåŒ…å«æ•¸å€‹ Nodeï¼Œ"),s("br"),t._v("\næ¯å€‹ Node çš†å¯ä»¥è¦–ç‚ºä¸€å€‹ç¨ç«‹çš„ Elasticsearch æ‡‰ç”¨ï¼Œ"),s("br"),t._v('\næ¯å€‹ Node éƒ½æ‡‰è©²åœ¨ä¸€å€‹"ç¨ç«‹"çš„ç’°å¢ƒä¸Šé‹è¡Œ (ex: container or VM)\nåœ¨æ¸¬è©¦ç’°å¢ƒä¸Šå¯ä»¥å°‡ Node å»ºç½®åœ¨åŒä¸€ä¸»æ©Ÿä¸Šé¢ï¼Œ'),s("br"),t._v("\nè‹¥æ˜¯å¯¦éš›æ‡‰ç”¨çš„ç”Ÿç”¢ç’°å¢ƒï¼Œé‚„æ˜¯å»ºè­°å°‡ä¸åŒçš„ç¯€é»ç¨ç«‹åˆ°ä¸åŒçš„ä¸»æ©Ÿä¸Šï¼Œä»¥ä¿è­‰é«˜å¯ç”¨çš„ç‰¹æ€§")]),t._v(" "),s("p",[t._v("åœ¨ Elasticsearch Cluster æ¯å€‹ Node å¯ä»¥è—‰ç”± "),s("code",[t._v("Node Roles")]),t._v(" è³¦äºˆé›†ç¾¤ä¸­çš„ç¯€é»ä¸åŒä»»å‹™ï¼Œå¸¸è¦‹çš„ç¸½é¡æœ‰:")]),t._v(" "),s("ul",[s("li",[s("font",{attrs:{color:"#63C5DA"}},[s("strong",[t._v("Data Nodes")])])],1),t._v(" "),s("li",[s("font",{attrs:{color:"#63C5DA"}},[s("strong",[t._v("Master Nodes")])])],1),t._v(" "),s("li",[s("font",{attrs:{color:"#63C5DA"}},[s("strong",[t._v("Ingest Nodes")])])],1),t._v(" "),s("li",[s("font",{attrs:{color:"#63C5DA"}},[s("strong",[t._v("Machine Learning Nodes")])])],1),t._v(" "),s("li",[s("font",{attrs:{color:"#63C5DA"}},[s("strong",[t._v("Coordinator Nodes")])])],1)]),t._v(" "),s("p",[t._v("è©³ç´°æœƒåœ¨åˆ†å¸ƒå¼çš„ç­†è¨˜ä¸­è¨˜éŒ„")]),t._v(" "),s("h3",{attrs:{id:"shard"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shard"}},[t._v("#")]),t._v(" Shard")]),t._v(" "),s("h3",{attrs:{id:"replica"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#replica"}},[t._v("#")]),t._v(" Replica")]),t._v(" "),s("h2",{attrs:{id:"conclusion"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#conclusion"}},[t._v("#")]),t._v(" Conclusion")]),t._v(" "),s("p",[t._v("ç†è§£ä¸€é–€æŠ€è¡“ï¼Œä¸€äº›åè©é‚„æ˜¯å¿…è¦ä¹‹æƒ¡ï¼Œ"),s("br"),t._v("\nä¸€é‚Šç†è§£åè©ä¸€é‚Šè£œåŸç†å§ "),s("s",[t._v("(æ‰èƒ½å”¬äºº)")]),t._v("ï¼Œ"),s("br"),t._v("\næ¦‚å¿µæ€§çš„çŸ¥è­˜å¤ªå¤šé ­å¯¦åœ¨å¾ˆç—›ï¼Œ"),s("br"),t._v("\næœ‰æ¼æ‰çš„æ±è¥¿ä¹‹å¾ŒçœŸçš„æœ‰ä½¿ç”¨åˆ°æˆ–æƒ³åˆ°å†å›ä¾†è£œå§")]),t._v(" "),s("p",[s("img",{attrs:{src:a(438),alt:"å¥½è€¶"}})])])}),[],!1,null,null,null);e.default=r.exports}}]);