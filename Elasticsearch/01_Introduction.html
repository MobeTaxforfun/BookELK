<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ELK Stack Intro | 我的 Elastic Stack 筆記</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="已經到了不記下來就會忘記的年紀了，紀錄一下自身學習 Elasticsearch;Logstash;Kibana;Beats 的一些歷程">
    
    <link rel="preload" href="/BookELK/assets/css/0.styles.d96730b3.css" as="style"><link rel="preload" href="/BookELK/assets/js/app.3703c5fd.js" as="script"><link rel="preload" href="/BookELK/assets/js/2.69009060.js" as="script"><link rel="preload" href="/BookELK/assets/js/10.d97b4f63.js" as="script"><link rel="prefetch" href="/BookELK/assets/js/11.a3e047e6.js"><link rel="prefetch" href="/BookELK/assets/js/12.08f205bf.js"><link rel="prefetch" href="/BookELK/assets/js/13.f80041e9.js"><link rel="prefetch" href="/BookELK/assets/js/14.eb79e1da.js"><link rel="prefetch" href="/BookELK/assets/js/15.ba042fdc.js"><link rel="prefetch" href="/BookELK/assets/js/16.cc5b0f35.js"><link rel="prefetch" href="/BookELK/assets/js/17.6f73c3bc.js"><link rel="prefetch" href="/BookELK/assets/js/18.7a8002e1.js"><link rel="prefetch" href="/BookELK/assets/js/19.9ebc675d.js"><link rel="prefetch" href="/BookELK/assets/js/20.6a6fadfe.js"><link rel="prefetch" href="/BookELK/assets/js/21.b3728fc1.js"><link rel="prefetch" href="/BookELK/assets/js/22.43e2e8c5.js"><link rel="prefetch" href="/BookELK/assets/js/23.45de1038.js"><link rel="prefetch" href="/BookELK/assets/js/24.0c9351a1.js"><link rel="prefetch" href="/BookELK/assets/js/25.a13d916b.js"><link rel="prefetch" href="/BookELK/assets/js/26.9f650382.js"><link rel="prefetch" href="/BookELK/assets/js/27.02da0200.js"><link rel="prefetch" href="/BookELK/assets/js/28.84f30b7e.js"><link rel="prefetch" href="/BookELK/assets/js/29.fb79a378.js"><link rel="prefetch" href="/BookELK/assets/js/3.7f900b1e.js"><link rel="prefetch" href="/BookELK/assets/js/30.01cfd94d.js"><link rel="prefetch" href="/BookELK/assets/js/31.312a4d48.js"><link rel="prefetch" href="/BookELK/assets/js/32.20f97f35.js"><link rel="prefetch" href="/BookELK/assets/js/4.347ebcc6.js"><link rel="prefetch" href="/BookELK/assets/js/5.4d9e449f.js"><link rel="prefetch" href="/BookELK/assets/js/6.a4202dd3.js"><link rel="prefetch" href="/BookELK/assets/js/7.e4409ef2.js"><link rel="prefetch" href="/BookELK/assets/js/8.19ac938f.js"><link rel="prefetch" href="/BookELK/assets/js/9.ff8e62bc.js">
    <link rel="stylesheet" href="/BookELK/assets/css/0.styles.d96730b3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/BookELK/" class="home-link router-link-active"><!----> <span class="site-name">我的 Elastic Stack 筆記</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Elasticsearch</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BookELK/Elasticsearch/01_Introduction.html" aria-current="page" class="active sidebar-link">ELK Stack Intro</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/BookELK/Elasticsearch/01_Introduction.html#what-is-elk-stack" class="sidebar-link">What is ELK Stack</a></li><li class="sidebar-sub-header"><a href="/BookELK/Elasticsearch/01_Introduction.html#elasticsearch-overview" class="sidebar-link">Elasticsearch Overview</a></li><li class="sidebar-sub-header"><a href="/BookELK/Elasticsearch/01_Introduction.html#conclusion" class="sidebar-link">Conclusion</a></li></ul></li><li><a href="/BookELK/Elasticsearch/01_Elasticsearch.html" class="sidebar-link">Elasticsearch Intro</a></li><li><a href="/BookELK/Elasticsearch/02_Index.html" class="sidebar-link">Index</a></li><li><a href="/BookELK/Elasticsearch/02_Document.html" class="sidebar-link">Document</a></li><li><a href="/BookELK/Elasticsearch/02_Mapping.html" class="sidebar-link">Mapping</a></li><li><a href="/BookELK/Elasticsearch/02_Aliases.html" class="sidebar-link">Index Aliases</a></li><li><a href="/BookELK/Elasticsearch/02_Analyzer.html" class="sidebar-link">Analyzer</a></li><li><a href="/BookELK/Elasticsearch/02_AnalyzerCh.html" class="sidebar-link">Analyzer 中文分詞</a></li><li><a href="/BookELK/Elasticsearch/02_SearchAPI.html" class="sidebar-link">Search API</a></li><li><a href="/BookELK/Elasticsearch/02_Query.html" class="sidebar-link">Query DSL</a></li><li><a href="/BookELK/Elasticsearch/02_Aggregations.html" class="sidebar-link">Aggregations</a></li><li><a href="/BookELK/Elasticsearch/03_Cat.html" class="sidebar-link">Cat</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>kibana</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Logstash</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Beats</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Demo</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Elastic stack</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="elk-stack-intro"><a href="#elk-stack-intro" class="header-anchor">#</a> ELK Stack Intro</h1> <p>📕 <strong>What is ELK Stack</strong></p> <ul><li>ELK Stack = E(Elasticsearch) + L(Logstash) + K(Kibana) + Beats + Other</li> <li>本小節偏重於 Elasticsearch</li></ul> <p>📘 Reference</p> <ul><li><a href="https://www.elastic.co/" target="_blank" rel="noopener noreferrer">Elastic 官方傳送門<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="what-is-elk-stack"><a href="#what-is-elk-stack" class="header-anchor">#</a> What is ELK Stack</h2> <ul><li>ELK 是三個開放原始碼專案的頭一字，分別是 E(<code>Elasticsearch</code>) + L(<code>Logstash</code>) + K(<code>Kibana</code>)</li> <li>Elasticsearch : 一個搜索引擎</li> <li>Logstash : 一個 &quot;server‑side&quot; 的資料轉換管道(pipeline) &quot;stash&quot; 有存起來的意思，所以 <code>Logstash</code> 可以讓資料經過 &quot;pipeline&quot; 處理後儲存到某個地方</li> <li>Kibana : 一個資料化可視平台</li> <li>Beats : 一個輕量級資料採集解決方案，相較於 <code>Logstash</code> 離&quot;應用&quot;距離更近</li></ul> <h2 id="elasticsearch-overview"><a href="#elasticsearch-overview" class="header-anchor">#</a> Elasticsearch Overview</h2> <p>以下是來至 Wiki 的說明:<br> <br> <img src="/BookELK/assets/img/eswiki.21560d36.png" alt="Es wiki"> <br>
小結幾個重點:</p> <ul><li><p><strong><font color="63C5DA" size="4">搜尋引擎</font></strong></p> <p>當有人問 Elasticsearch 是什麼? 最簡單的回答就是四個字 : <strong>搜尋引擎 (search engine)</strong></p> <blockquote><p>搜尋引擎（英語：search engine）是一種資訊檢索系統，旨在協助搜尋儲存在電腦系統中的資訊。<br>
搜尋結果一般被稱為「hits」，通常會以表單的形式列出。<br>
網路搜尋引擎是最常見、公開的一種搜尋引擎，其功能為搜尋全球資訊網上儲存的資訊。</p></blockquote> <ul><li>不管在什麼環境下當成功啟動 Elasticsearch 的那一刻，它會就會告訴你 <strong>「You Know, for Search!」</strong></li> <li>搜尋結果一般被稱為「hits」，事實上使用 Elasticsearch 做搜尋，在搜尋結果中就是會有 <strong>「hits」</strong> 這個屬性欄位</li></ul></li> <li><p><strong><font color="#63C5DA" size="4">基於 Lucene 庫的搜尋引擎</font></strong></p> <blockquote><p>Lucene是一套用於全文檢索和搜尋的開放原始碼程式庫，由Apache軟體基金會支援和提供。<br>
Lucene提供了一個簡單卻強大的應用程式介面，能夠做全文索引和搜尋。<br>
Lucene是現在最受歡迎的免費Java資訊檢索程式庫。<br>
From Wiki</p></blockquote> <p>Elasticsearch 是基於 <code>Lucene</code> 封裝的應用，因為 Lucene 有些 API 再用於開發時，並不是那麼容易操作，<br>
就像 Docker 跟容器技術一樣( Docker 的出現使容器技術更容易使用)，<br>
Elasticsearch 讓使用者可以用更簡便的方式使用 Lucene 來進行全文檢索與作為搜索引擎使用</p> <p>📓 小知識 :</p> <ul><li>Lucene 的作者為 <strong>Doug Cutting</strong></li> <li><strong>Doug Cutting</strong> 同時也是一項知名開源框架的作者 【 Hadoop 】</li> <li>Elasticsearch 的原作者為 <strong>Shay Banon</strong></li> <li>有趣的傳聞 Elasticsearch 是 <strong>Shay Banon</strong> 為他老婆寫得 食譜搜尋 Side project</li></ul></li> <li><p><strong><font color="#63C5DA" size="4">分散式、支援多租戶</font></strong></p> <p>Elasticsearch 是一個分散式的 <code>No SQL</code> 資料庫，Elasticsearch 自帶分散式的架構可以輕鬆實現水平擴容，<br>
藉由搭建 Elasticsearch Cluster，在 Cluster 中啟動各種不同功能的結點 (Node)，可以任意搭建自己的分散式架構<br>
Elasticsearch 在 Multi-Tenancy(多租戶)方面的表現，常見的策略有 Cluster per tenant ; Index per tenant ; Tenant-based routing<br>
或者是<strong>百度</strong>有自己擴展的 Elasticsearch <code>BES</code>，可以參考看看</p></li> <li><p><strong><font color="#63C5DA" size="4">全文搜尋引擎</font></strong></p> <p>全文搜尋引擎這像技術目前廣泛應用於各項主流的搜索引擎，Elasticsearch 就是一個全文搜尋引擎，<br>
目前在市場上就有許多&quot;大IP&quot;使用 Elasticsearch 來解決搜尋問題，<br>
e.g.,Github,Uber,Facebook,百度,東京...更甚至這些大型服務提供商都有基於自身應用所改良的 Elasticsearch 架構</p> <ul><li><p><strong>Full-text search 全文檢索</strong></p> <p>Full-text search <code>從文字或資料庫中，不限定資料欄位，自由地萃取出訊息的技術</code>，<code>全文檢索</code>並非 Elasticsearch 獨佔的技術，<br>
其實 SQL Server 與 MySQL 也有全文檢索搜尋只是表現沒 Elasticsearch 這麼優秀，<br>
而通常執行 <code>全文檢索</code> 任務的程式或應用，一般被稱作【搜尋引擎】</p></li> <li><p><strong>Full-text search 相關技術</strong></p> <p>以下是與 Full-text search 相關的拓撲，基本上在 Elasticsearch 中全部都會出現，<br>
行有餘力的話瞭解一下相關知識會比較好上手</p> <ul><li>語根處理 stemming</li> <li>符素解析器 token parser</li> <li>斷詞/分詞 word segmentation</li> <li>反向索引 inverted index</li> <li>查全率 Recall rate</li> <li>查準率 Precision</li></ul></li></ul></li> <li><p><strong><font color="#63C5DA" size="4">HTTP Web介面和無模式(Schema-less)JSON文件</font></strong></p> <p>Elasticsearch 以 HTTP 協議，提供了&quot;純正&quot; <code>REST APIs</code>，透過操作 <code>REST API</code> 得以讓使用者操作 Elasticsearch 中的相關功能，<br>
在 Elasticsearch 中 Server 與 Client 交換資訊大多以 <code>JSON</code> 格式為主，<br>
在某些特殊且特定的情況下 Elasticsearch 也提供了 compact and aligned text (CAT) 的格式，提供使用者一個更為整潔得資料呈現方式</p> <ul><li><p>compact and aligned text (CAT)</p> <blockquote><p>JSON is great…​ for computers.
Even if it’s pretty-printed, trying to find relationships in the data is tedious.<br>
Human eyes, especially when looking at a terminal, need compact and aligned text.<br>
The compact and aligned text (CAT) APIs aim to meet this need.<br>
From Elastic.co</p></blockquote> <p>簡言之就是，人(工程師)在閱讀 <code>JSON</code> 時是有&quot;些許&quot;障礙的所以有了 CAT</p> <blockquote><p>cat APIs are only intended for human consumption using the Kibana console or command line.<br>
They are not intended for use by applications.<br>
For application consumption, we recommend using a corresponding JSON API.</p></blockquote> <p>Cat 只允許在 Kibana console or command line 中使用，在其他的應用中我們不建議使用，來自官方的建言</p></li></ul></li> <li><p><strong><font color="#63C5DA" size="4">Elasticsearch是用Java開發的</font></strong></p> <p>如上所述 Elasticsearch 用 Java 開發在 Github 上都可以看到原始碼，<br>
這也意味著真的要完全優化 Elasticsearch 也要懂一點 JVM 相關的知識...</p></li> <li><p><strong><font color="#63C5DA" size="4">開源軟體</font></strong></p> <p>網址純推不下 =&gt; <a href="https://github.com/elastic" target="_blank" rel="noopener noreferrer">https://github.com/elastic<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
官方 GIT 裡面有一個放測試資料的地方，突然忘記在哪裡了找到再貼過來...</p></li> <li><p><strong><font color="#63C5DA" size="4">官方客戶端在Java、.NET（C#）、PHP、Python、Apache Groovy、Ruby和許多其他語言中都是可用的</font></strong></p> <p>基本像這種熱門的應用，集成環境應該都是很成熟了，<br>
在不濟接口都是 <code>REST APIs</code> 了...</p></li> <li><p><strong><font color="#63C5DA" size="4">根據 DB-Engines 的排名顯示，Elasticsearch是最受歡迎的企業搜尋引擎</font></strong></p> <p>一個非常有公信力的 DB 排名網站，後端工程師應該沒有不來這裡參考的吧...</p> <p><a href="https://db-engines.com/en/" target="_blank" rel="noopener noreferrer">https://db-engines.com/en/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>這是 July 2022 全部排名，該在榜上的還在榜上，<br>
基本上 Elasticsearch 還是不能取代關聯型資料庫的，這點必須特別注意，<br>
(不過 MongoDB 是主打取代 RDBMS 就是ㄏㄏ)<br>
通常 NoSQL 都是用來解決 SQL 解決不了的問題，<br>
Elasticsearch 它的優勢就不用特別在強調了看名字就知道了 Elastic<strong>search</strong> 強項是 <strong>搜尋</strong></p> <p><img src="/BookELK/assets/img/dbrank.e9417f32.png" alt="dbr"></p> <p>這是 DB-Engines Ranking of Search Engines 搜尋引擎的排行榜<br>
基本上 Elasticsearch 已經好幾年沒下來過了，而且有好一陣子熱度都是兩倍輾壓第二名<br>
除非有更好的解決方案，或有人用GO寫一個差不多的東西才有可能下來..大概!?</p> <p><img src="/BookELK/assets/img/dbranksearch.0d752002.png" alt="dbr engine"></p></li></ul> <h2 id="conclusion"><a href="#conclusion" class="header-anchor">#</a> Conclusion</h2> <p>本來要繼續寫 Elasticsearch 其他的知識點，不過篇幅好像有點長了，這邊就只放概念性的東西吧</p> <p>Finally, What is Elasticsearch?</p> <ul><li>Search Engine</li> <li>Member of ELK</li> <li>You Know, for Search !</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/BookELK/Elasticsearch/01_Elasticsearch.html">
        Elasticsearch Intro
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/BookELK/assets/js/app.3703c5fd.js" defer></script><script src="/BookELK/assets/js/2.69009060.js" defer></script><script src="/BookELK/assets/js/10.d97b4f63.js" defer></script>
  </body>
</html>
