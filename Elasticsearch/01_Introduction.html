<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ELK Stack Intro | æˆ‘çš„ Elastic Stack ç­†è¨˜</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="å·²ç¶“åˆ°äº†ä¸è¨˜ä¸‹ä¾†å°±æœƒå¿˜è¨˜çš„å¹´ç´€äº†ï¼Œç´€éŒ„ä¸€ä¸‹è‡ªèº«å­¸ç¿’ Elasticsearch;Logstash;Kibana;Beats çš„ä¸€äº›æ­·ç¨‹">
    
    <link rel="preload" href="/BookELK/assets/css/0.styles.d96730b3.css" as="style"><link rel="preload" href="/BookELK/assets/js/app.de2656fb.js" as="script"><link rel="preload" href="/BookELK/assets/js/2.3559ea6b.js" as="script"><link rel="preload" href="/BookELK/assets/js/15.8a72b516.js" as="script"><link rel="prefetch" href="/BookELK/assets/js/10.20688fba.js"><link rel="prefetch" href="/BookELK/assets/js/11.6c6c04e9.js"><link rel="prefetch" href="/BookELK/assets/js/12.3b00673c.js"><link rel="prefetch" href="/BookELK/assets/js/13.2b1de4fd.js"><link rel="prefetch" href="/BookELK/assets/js/14.c5de2de0.js"><link rel="prefetch" href="/BookELK/assets/js/16.a583efb5.js"><link rel="prefetch" href="/BookELK/assets/js/17.48d5cba1.js"><link rel="prefetch" href="/BookELK/assets/js/18.475aa7bd.js"><link rel="prefetch" href="/BookELK/assets/js/19.043d6a99.js"><link rel="prefetch" href="/BookELK/assets/js/20.5af3d098.js"><link rel="prefetch" href="/BookELK/assets/js/21.dd6ce90d.js"><link rel="prefetch" href="/BookELK/assets/js/22.b4e1be5b.js"><link rel="prefetch" href="/BookELK/assets/js/23.2f6f0fbe.js"><link rel="prefetch" href="/BookELK/assets/js/24.fbfe159a.js"><link rel="prefetch" href="/BookELK/assets/js/25.96e1afa7.js"><link rel="prefetch" href="/BookELK/assets/js/26.5359a8c7.js"><link rel="prefetch" href="/BookELK/assets/js/27.e5763be8.js"><link rel="prefetch" href="/BookELK/assets/js/28.b3648540.js"><link rel="prefetch" href="/BookELK/assets/js/29.c0cfc19d.js"><link rel="prefetch" href="/BookELK/assets/js/3.1cb1bfe6.js"><link rel="prefetch" href="/BookELK/assets/js/30.1f5429f6.js"><link rel="prefetch" href="/BookELK/assets/js/31.86525231.js"><link rel="prefetch" href="/BookELK/assets/js/4.940907ea.js"><link rel="prefetch" href="/BookELK/assets/js/5.3a0a416f.js"><link rel="prefetch" href="/BookELK/assets/js/6.c98f38e2.js"><link rel="prefetch" href="/BookELK/assets/js/7.7a379dca.js"><link rel="prefetch" href="/BookELK/assets/js/8.f5b9c337.js"><link rel="prefetch" href="/BookELK/assets/js/9.a12508bd.js">
    <link rel="stylesheet" href="/BookELK/assets/css/0.styles.d96730b3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/BookELK/" class="home-link router-link-active"><!----> <span class="site-name">æˆ‘çš„ Elastic Stack ç­†è¨˜</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Elasticsearch</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BookELK/Elasticsearch/01_Introduction.html" aria-current="page" class="active sidebar-link">ELK Stack Intro</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/BookELK/Elasticsearch/01_Introduction.html#what-is-elk-stack" class="sidebar-link">What is ELK Stack</a></li><li class="sidebar-sub-header"><a href="/BookELK/Elasticsearch/01_Introduction.html#elasticsearch-basic" class="sidebar-link">Elasticsearch Basic</a></li><li class="sidebar-sub-header"><a href="/BookELK/Elasticsearch/01_Introduction.html#index-ç´¢å¼•" class="sidebar-link">Index ç´¢å¼•</a></li><li class="sidebar-sub-header"><a href="/BookELK/Elasticsearch/01_Introduction.html#document-æ–‡ä»¶" class="sidebar-link">Document æ–‡ä»¶</a></li><li class="sidebar-sub-header"><a href="/BookELK/Elasticsearch/01_Introduction.html#field" class="sidebar-link">Field</a></li><li class="sidebar-sub-header"><a href="/BookELK/Elasticsearch/01_Introduction.html#mapping-ç¿»è­¯ä¸èƒ½" class="sidebar-link">Mapping (ç¿»è­¯ä¸èƒ½)</a></li><li class="sidebar-sub-header"><a href="/BookELK/Elasticsearch/01_Introduction.html#index-aliases" class="sidebar-link">Index Aliases</a></li><li class="sidebar-sub-header"><a href="/BookELK/Elasticsearch/01_Introduction.html#analyzer" class="sidebar-link">Analyzer</a></li><li class="sidebar-sub-header"><a href="/BookELK/Elasticsearch/01_Introduction.html#shard" class="sidebar-link">Shard</a></li><li class="sidebar-sub-header"><a href="/BookELK/Elasticsearch/01_Introduction.html#replica" class="sidebar-link">Replica</a></li></ul></li><li><a href="/BookELK/Elasticsearch/02_Index.html" class="sidebar-link">Index</a></li><li><a href="/BookELK/Elasticsearch/02_Document.html" class="sidebar-link">Document</a></li><li><a href="/BookELK/Elasticsearch/02_Mapping.html" class="sidebar-link">Mapping</a></li><li><a href="/BookELK/Elasticsearch/02_Aliases.html" class="sidebar-link">Index Aliases</a></li><li><a href="/BookELK/Elasticsearch/02_Analyzer.html" class="sidebar-link">Analyzer</a></li><li><a href="/BookELK/Elasticsearch/02_AnalyzerCh.html" class="sidebar-link">Analyzer ä¸­æ–‡åˆ†è©</a></li><li><a href="/BookELK/Elasticsearch/02_SearchAPI.html" class="sidebar-link">Search API</a></li><li><a href="/BookELK/Elasticsearch/02_Query.html" class="sidebar-link">Query DSL</a></li><li><a href="/BookELK/Elasticsearch/02_Aggregations.html" class="sidebar-link">Aggregations</a></li><li><a href="/BookELK/Elasticsearch/03_Cat.html" class="sidebar-link">Cat</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>kibana</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Logstash</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Beats</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Demo</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Elastic stack</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="elk-stack-intro"><a href="#elk-stack-intro" class="header-anchor">#</a> ELK Stack Intro</h1> <p>ğŸ“• <strong>What is ELK Stack</strong></p> <ul><li>ELK Stack = E(Elasticsearch) + L(Logstash) + K(Kibana) + Beats + Other</li> <li>æœ¬å°ç¯€åé‡æ–¼ Elasticsearch</li></ul> <p>ğŸ“˜ Reference</p> <ul><li><a href="https://www.elastic.co/" target="_blank" rel="noopener noreferrer">Elastic å®˜æ–¹å‚³é€é–€<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="what-is-elk-stack"><a href="#what-is-elk-stack" class="header-anchor">#</a> What is ELK Stack</h2> <ul><li>ELK æ˜¯ä¸‰å€‹é–‹æ”¾åŸå§‹ç¢¼å°ˆæ¡ˆçš„é ­ä¸€å­—ï¼Œåˆ†åˆ¥æ˜¯ E(<code>Elasticsearch</code>) + L(<code>Logstash</code>) + K(<code>Kibana</code>)</li> <li>Elasticsearch : ä¸€å€‹æœç´¢å¼•æ“</li> <li>Logstash : ä¸€å€‹ &quot;serverâ€‘side&quot; çš„è³‡æ–™è½‰æ›ç®¡é“(pipeline) &quot;stash&quot; æœ‰å­˜èµ·ä¾†çš„æ„æ€ï¼Œæ‰€ä»¥ <code>Logstash</code> å¯ä»¥è®“è³‡æ–™ç¶“é &quot;pipeline&quot; è™•ç†å¾Œå„²å­˜åˆ°æŸå€‹åœ°æ–¹</li> <li>Kibana : ä¸€å€‹è³‡æ–™åŒ–å¯è¦–å¹³å°</li> <li>Beats : ä¸€å€‹è¼•é‡ç´šè³‡æ–™æ¡é›†è§£æ±ºæ–¹æ¡ˆï¼Œç›¸è¼ƒæ–¼ <code>Logstash</code> é›¢&quot;æ‡‰ç”¨&quot;è·é›¢æ›´è¿‘</li></ul> <h2 id="elasticsearch-basic"><a href="#elasticsearch-basic" class="header-anchor">#</a> Elasticsearch Basic</h2> <p>ä»¥ä¸‹æ˜¯ä¾†è‡³ Wiki çš„èªªæ˜:<br> <br> <img src="/BookELK/assets/img/eswiki.21560d36.png" alt="Es wiki"> <br>
å°çµå¹¾å€‹é‡é»:</p> <ul><li><p><strong>æœå°‹å¼•æ“</strong></p> <p>ç•¶æœ‰äººå• Elasticsearch æ˜¯ä»€éº¼? æœ€ç°¡å–®çš„å›ç­”å°±æ˜¯å››å€‹å­— : <strong>æœå°‹å¼•æ“ (search engine)</strong></p> <blockquote><p>æœå°‹å¼•æ“ï¼ˆè‹±èªï¼šsearch engineï¼‰æ˜¯ä¸€ç¨®è³‡è¨Šæª¢ç´¢ç³»çµ±ï¼Œæ—¨åœ¨å”åŠ©æœå°‹å„²å­˜åœ¨é›»è…¦ç³»çµ±ä¸­çš„è³‡è¨Šã€‚
æœå°‹çµæœä¸€èˆ¬è¢«ç¨±ç‚ºã€Œhitsã€ï¼Œé€šå¸¸æœƒä»¥è¡¨å–®çš„å½¢å¼åˆ—å‡ºã€‚
ç¶²è·¯æœå°‹å¼•æ“æ˜¯æœ€å¸¸è¦‹ã€å…¬é–‹çš„ä¸€ç¨®æœå°‹å¼•æ“ï¼Œå…¶åŠŸèƒ½ç‚ºæœå°‹å…¨çƒè³‡è¨Šç¶²ä¸Šå„²å­˜çš„è³‡è¨Šã€‚</p></blockquote> <ul><li>ä¸ç®¡åœ¨ä»€éº¼ç’°å¢ƒä¸‹ç•¶æˆåŠŸå•Ÿå‹• Elasticsearch çš„é‚£ä¸€åˆ»ï¼Œå®ƒæœƒå°±æœƒå‘Šè¨´ä½  <strong>ã€ŒYou Know, for Search!ã€</strong></li> <li>æœå°‹çµæœä¸€èˆ¬è¢«ç¨±ç‚ºã€Œhitsã€ï¼Œäº‹å¯¦ä¸Šä½¿ç”¨ Elasticsearch åšæœå°‹ï¼Œåœ¨æœå°‹çµæœä¸­å°±æ˜¯æœƒæœ‰ <strong>ã€Œhitsã€</strong> é€™å€‹å±¬æ€§æ¬„ä½</li></ul></li> <li><p><strong>åŸºæ–¼ Lucene åº«çš„æœå°‹å¼•æ“</strong></p> <blockquote><p>Luceneæ˜¯ä¸€å¥—ç”¨æ–¼å…¨æ–‡æª¢ç´¢å’Œæœå°‹çš„é–‹æ”¾åŸå§‹ç¢¼ç¨‹å¼åº«ï¼Œç”±Apacheè»Ÿé«”åŸºé‡‘æœƒæ”¯æ´å’Œæä¾›ã€‚<br>
Luceneæä¾›äº†ä¸€å€‹ç°¡å–®å»å¼·å¤§çš„æ‡‰ç”¨ç¨‹å¼ä»‹é¢ï¼Œèƒ½å¤ åšå…¨æ–‡ç´¢å¼•å’Œæœå°‹ã€‚<br>
Luceneæ˜¯ç¾åœ¨æœ€å—æ­¡è¿çš„å…è²»Javaè³‡è¨Šæª¢ç´¢ç¨‹å¼åº«ã€‚<br>
From Wiki</p></blockquote> <p>Elasticsearch æ˜¯åŸºæ–¼ <code>Lucene</code> å°è£çš„æ‡‰ç”¨ï¼Œå› ç‚º Lucene æœ‰äº› API å†ç”¨æ–¼é–‹ç™¼æ™‚ï¼Œä¸¦ä¸æ˜¯é‚£éº¼å®¹æ˜“æ“ä½œï¼Œ<br>
å°±åƒ Docker è·Ÿå®¹å™¨æŠ€è¡“ä¸€æ¨£( Docker çš„å‡ºç¾ä½¿å®¹å™¨æŠ€è¡“æ›´å®¹æ˜“ä½¿ç”¨)ï¼Œ<br>
Elasticsearch è®“ä½¿ç”¨è€…å¯ä»¥ç”¨æ›´ç°¡ä¾¿çš„æ–¹å¼ä½¿ç”¨ Lucene ä¾†é€²è¡Œå…¨æ–‡æª¢ç´¢èˆ‡ä½œç‚ºæœç´¢å¼•æ“ä½¿ç”¨</p> <p>ğŸ““ å°çŸ¥è­˜ :</p> <ul><li>Lucene çš„ä½œè€…ç‚º <strong>Doug Cutting</strong></li> <li><strong>Doug Cutting</strong> åŒæ™‚ä¹Ÿæ˜¯ä¸€é …çŸ¥åé–‹æºæ¡†æ¶çš„ä½œè€… ã€ Hadoop ã€‘</li></ul></li> <li><p><strong>åˆ†æ•£å¼ã€æ”¯æ´å¤šç§Ÿæˆ¶</strong></p> <p>Elasticsearch æ˜¯ä¸€å€‹åˆ†æ•£å¼çš„ <code>No SQL</code> è³‡æ–™åº«ï¼ŒElasticsearch è‡ªå¸¶åˆ†æ•£å¼çš„æ¶æ§‹å¯ä»¥è¼•é¬†å¯¦ç¾æ°´å¹³æ“´å®¹ï¼Œ<br>
è—‰ç”±æ­å»º Elasticsearch Clusterï¼Œåœ¨ Cluster ä¸­å•Ÿå‹•å„ç¨®ä¸åŒåŠŸèƒ½çš„çµé» (Node)ï¼Œå¯ä»¥ä»»æ„æ­å»ºè‡ªå·±çš„åˆ†æ•£å¼æ¶æ§‹<br>
Multi-Tenancy(å¤šç§Ÿæˆ¶)æ–¹é¢åœ¨ Elasticsearch å¸¸è¦‹çš„ç­–ç•¥æœ‰ Cluster per tenant ; Index per tenant ; Tenant-based routing<br>
æˆ–è€…æ˜¯<strong>ç™¾åº¦</strong>æœ‰è‡ªå·±æ“´å±•çš„ Elasticsearch <code>BES</code>ï¼Œå¯ä»¥åƒè€ƒçœ‹çœ‹</p></li> <li><p><strong>å…¨æ–‡æœå°‹å¼•æ“</strong></p></li> <li><p><strong>HTTP Webä»‹é¢å’Œç„¡æ¨¡å¼JSONæ–‡ä»¶</strong></p></li> <li><p><strong>Elasticsearchæ˜¯ç”¨Javaé–‹ç™¼çš„</strong></p></li> <li><p><strong>é–‹æºè»Ÿé«”</strong></p></li> <li><p><strong>å®˜æ–¹å®¢æˆ¶ç«¯åœ¨Javaã€.NETï¼ˆC#ï¼‰ã€PHPã€Pythonã€Apache Groovyã€Rubyå’Œè¨±å¤šå…¶ä»–èªè¨€ä¸­éƒ½æ˜¯å¯ç”¨çš„</strong></p></li> <li><p><strong>æ ¹æ“šDB-Enginesçš„æ’åé¡¯ç¤ºï¼ŒElasticsearchæ˜¯æœ€å—æ­¡è¿çš„ä¼æ¥­æœå°‹å¼•æ“</strong></p></li></ul> <h2 id="index-ç´¢å¼•"><a href="#index-ç´¢å¼•" class="header-anchor">#</a> Index ç´¢å¼•</h2> <h2 id="document-æ–‡ä»¶"><a href="#document-æ–‡ä»¶" class="header-anchor">#</a> Document æ–‡ä»¶</h2> <h2 id="field"><a href="#field" class="header-anchor">#</a> Field</h2> <h2 id="mapping-ç¿»è­¯ä¸èƒ½"><a href="#mapping-ç¿»è­¯ä¸èƒ½" class="header-anchor">#</a> Mapping (ç¿»è­¯ä¸èƒ½)</h2> <h2 id="index-aliases"><a href="#index-aliases" class="header-anchor">#</a> Index Aliases</h2> <h2 id="analyzer"><a href="#analyzer" class="header-anchor">#</a> Analyzer</h2> <h2 id="shard"><a href="#shard" class="header-anchor">#</a> Shard</h2> <h2 id="replica"><a href="#replica" class="header-anchor">#</a> Replica</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/BookELK/Elasticsearch/02_Index.html">
        Index
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/BookELK/assets/js/app.de2656fb.js" defer></script><script src="/BookELK/assets/js/2.3559ea6b.js" defer></script><script src="/BookELK/assets/js/15.8a72b516.js" defer></script>
  </body>
</html>
